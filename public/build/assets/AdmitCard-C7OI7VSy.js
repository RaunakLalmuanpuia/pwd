import{T as f,S as b,r as c,W as w,o as i,d as _,w as d,b as s,a as n,n as y,z as g,X as q,Q as k,c as v,e as C,s as x}from"./app-CYbjHmJi.js";import{Q as A}from"./QPage-c-1Fevh-.js";import{A as B}from"./Admin-BTvihMJl.js";import{u as Q}from"./use-quasar-7a0AfFZt.js";import"./QLayout-CX5LcqP-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"flex items-center print-hide zcard q-pa-md"},D={class:"row"},N={key:0,class:"col-xs-12 zcard q-mt-md q-pa-md"},z={class:"q-pa-md q-gutter-sm",style:{height:"750px"}},S=Object.assign({layout:B},{__name:"AdmitCard",props:["applicants","subjects","search","url"],setup(p){const m=Q(),a=p;f({application_id:a.applicants?a.applicants.id:null});const t=b({search:a==null?void 0:a.search,tab:route().current(),url:a==null?void 0:a.url});c(""),c("");const u=l=>{if(l.keyCode===13&&t.search.trim()!==""){const e=route("admin.applications.download_admit_card",{search:t.search});x.get(e,{responseType:"blob"}).then(o=>{const r=new Blob([o.data],{type:"application/pdf"});t.url=window.URL.createObjectURL(r)}).catch(o=>{m.notify({type:"negative",message:"Cannot Download Admit Card"})})}};function h(){window.history.back()}return(l,e)=>{const o=w("q-pdfviewer");return i(),_(A,{padding:""},{default:d(()=>[e[3]||(e[3]=s("p",{class:"page-title print-hide"},"DOWNLOAD ADMIT CARD",-1)),n(y,{class:"q-ma-none q-pa-none",flat:"",label:"back",icon:"arrow_left",onClick:h}),s("div",V,[n(k,{modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=r=>t.search=r),autofocus:"",outlined:"",dense:"",onKeyup:q(u,["enter"]),"bg-color":"white",placeholder:"Search"},{append:d(()=>[n(g,{name:"search"})]),_:1},8,["modelValue"]),e[1]||(e[1]=s("p",{class:"ztext q-ma-none q-ml-sm"},"Enter Regn No and then press Enter",-1))]),s("div",D,[e[2]||(e[2]=s("br",null,null,-1)),t.url?(i(),v("div",N,[s("div",z,[n(o,{type:"html5",src:t.url},null,8,["src"])])])):C("",!0)])]),_:1})}}});export{S as default};
