import{T as N,r as x,o as v,j as y,e as s,d as t,b as o,Q as n,u as d,g as U,h as D,i,v as r,a as A,l as E,t as b,F,M as I,a9 as T,q as g,p as B}from"./app-BT0dome_.js";import{Q as P,a as j,b as m,c as p}from"./QMarkupTable-DrpH4rov.js";import{Q as R}from"./QForm-D-BeSauz.js";import{Q as z}from"./QPage-PfisjsKG.js";import{C as k}from"./ClosePopup-B89fLF3w.js";import{A as L}from"./Admin-b3dBTpkG.js";import"./QLayout-BHHOhaoO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"col-xs-12 col-sm-12"},O={class:"col-xs-12 col-sm-12 q-mb-md"},$={class:"col-xs-12 col-sm-6"},G={class:"col-xs-12 col-sm-6"},H={class:"col-xs-12 col-sm-6"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12 col-sm-6"},W={class:"col-xs-12"},X={class:"col-xs-12 flex justify-between items-center"},Y={class:"col-xs-12"},Z={class:"col-xs-12 flex justify-center items-center q-gutter-sm"},h={class:"flex justify-between items-center"},ee={class:"flex q-gutter-sm"},ie=Object.assign({layout:L},{__name:"Create",props:{job:Object},setup(Q){const S=Q,a=N({exam_name:"",exam_date:"",description:"",start_at:"",end_at:"",pass_mark:"",full_mark:"",active:!1,subjects:[]}),c=x(!1),u=x({subject_name:"",exam_date:"",start_time:"",end_time:""}),_=()=>{u.value={name:"",exam_date:"",start_at:"",end_at:""},c.value=!1},q=()=>{a.subjects.push({...u.value}),_()},w=f=>{a.subjects.splice(f,1)},C=()=>{a.post(route("exams.store",S.job.id))};return(f,l)=>(v(),y(z,{padding:""},{default:s(()=>[t(R,{onSubmit:C,onReset:f.reset,class:"row q-col-gutter-sm zcard q-pa-md"},{default:s(()=>[o("div",M,[t(n,{modelValue:d(a).exam_name,"onUpdate:modelValue":l[0]||(l[0]=e=>d(a).exam_name=e),outlined:"",dense:"",class:"my-input",label:"Name of examination",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),o("div",O,[t(n,{modelValue:d(a).description,"onUpdate:modelValue":l[1]||(l[1]=e=>d(a).description=e),type:"textarea",dense:"",outlined:"",class:"my-input",label:"Description"},null,8,["modelValue"])]),o("div",$,[t(n,{modelValue:d(a).pass_mark,"onUpdate:modelValue":l[2]||(l[2]=e=>d(a).pass_mark=e),outlined:"",dense:"",class:"my-input",label:"Pass mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",G,[t(n,{modelValue:d(a).full_mark,"onUpdate:modelValue":l[3]||(l[3]=e=>d(a).full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",H,[t(n,{modelValue:d(a).start_at,"onUpdate:modelValue":l[4]||(l[4]=e=>d(a).start_at=e),type:"datetime-local",outlined:"",dense:"","stack-label":"",class:"my-input",label:"Start",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",J,[t(n,{modelValue:d(a).end_at,"onUpdate:modelValue":l[5]||(l[5]=e=>d(a).end_at=e),type:"datetime-local","stack-label":"",outlined:"",dense:"",class:"my-input",label:"End",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",K,[t(U,{modelValue:d(a).active,"onUpdate:modelValue":l[6]||(l[6]=e=>d(a).active=e),label:"Active"},null,8,["modelValue"])]),o("div",W,[t(D)]),o("div",X,[l[13]||(l[13]=o("div",{class:"text-grey-7"},"Click Add button to add paper",-1)),t(i,{onClick:l[7]||(l[7]=e=>c.value=!0),rounded:"",color:"primary",outline:"",label:"Add"})]),o("div",Y,[t(P,{flat:""},{default:s(()=>[t(j,null,{default:s(()=>[t(m,{align:"left",style:{width:"30%"}},{default:s(()=>l[14]||(l[14]=[r("Subject")])),_:1}),t(m,{align:"center",style:{width:"20%"}},{default:s(()=>l[15]||(l[15]=[r("Date")])),_:1}),t(m,{align:"center",style:{width:"20%"}},{default:s(()=>l[16]||(l[16]=[r("Start")])),_:1}),t(m,{align:"center",style:{width:"20%"}},{default:s(()=>l[17]||(l[17]=[r("End")])),_:1}),t(m,{align:"center",style:{width:"10%"}},{default:s(()=>l[18]||(l[18]=[r("Action")])),_:1})]),_:1}),(v(!0),A(F,null,E(d(a).subjects,(e,V)=>(v(),y(j,{key:V},{default:s(()=>[t(p,{align:"left"},{default:s(()=>[r(b(e==null?void 0:e.subject_name),1)]),_:2},1024),t(p,{align:"center"},{default:s(()=>[r(b(e==null?void 0:e.exam_date),1)]),_:2},1024),t(p,{align:"center"},{default:s(()=>[r(b(e==null?void 0:e.start_time),1)]),_:2},1024),t(p,{align:"center"},{default:s(()=>[r(b(e==null?void 0:e.end_time),1)]),_:2},1024),t(p,{align:"center"},{default:s(()=>[t(i,{flat:"",icon:"cancel",onClick:le=>w(V)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",Z,[t(i,{type:"reset",label:"Cancel",flat:""}),t(i,{class:"q-px-lg",type:"submit",label:"Save",rounded:"",color:"primary"})]),t(I,{modelValue:c.value,"onUpdate:modelValue":l[12]||(l[12]=e=>c.value=e)},{default:s(()=>[t(T,{class:"q-pa-md"},{default:s(()=>[o("div",h,[l[19]||(l[19]=o("div",{class:"ztext-lg"},"New Subject",-1)),g(t(B,{name:"cancel",class:"cursor-pointer"},null,512),[[k]])]),l[20]||(l[20]=o("br",null,null,-1)),t(n,{modelValue:u.value.subject_name,"onUpdate:modelValue":l[8]||(l[8]=e=>u.value.subject_name=e),outlined:"",class:"my-input",rules:[e=>!!e||"Name is required"],label:"Paper Name"},null,8,["modelValue","rules"]),t(n,{modelValue:u.value.exam_date,"onUpdate:modelValue":l[9]||(l[9]=e=>u.value.exam_date=e),outlined:"",class:"my-input",rules:[e=>!!e||"Exam Date is required"],type:"date",label:"Date of Exam"},null,8,["modelValue","rules"]),t(n,{modelValue:u.value.start_time,"onUpdate:modelValue":l[10]||(l[10]=e=>u.value.start_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"Start time is required"],label:"Start At"},null,8,["modelValue","rules"]),t(n,{modelValue:u.value.end_time,"onUpdate:modelValue":l[11]||(l[11]=e=>u.value.end_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"End tim is required"],label:"End At"},null,8,["modelValue","rules"]),o("div",ee,[t(i,{type:"submit",style:{"min-width":"90px"},rounded:"",color:"primary",onClick:q,label:"Add"}),g(t(i,{rounded:"",color:"negative",outline:"",label:"Reset",onClick:_},null,512),[[k]])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onReset"])]),_:1}))}});export{ie as default};
