import{T as A,r as g,o as _,d as k,w as a,a as t,b as o,Q as r,u,l as I,m as P,n as m,g as d,c as T,p as E,t as b,F,v as B,a0 as M,Y as j,z as $}from"./app-CD7Aou6H.js";import{Q as z,a as Q,b as p,c as f}from"./QMarkupTable-Ct8Fb4ax.js";import{Q as L}from"./QForm-sAYSQaeO.js";import{Q as R}from"./QPage-e2gGNbuH.js";import{C as w}from"./ClosePopup-DeIY3UyQ.js";import{A as H}from"./Admin-DQU-cB5c.js";import"./QLayout-DKSVaOqH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"col-xs-12 col-sm-12"},Y={class:"col-xs-12 col-sm-6"},G={class:"col-xs-12 col-sm-6"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12 col-sm-6"},W={class:"col-xs-12 col-sm-6"},X={class:"col-xs-12"},Z={class:"col-xs-12 flex justify-between items-center"},h={class:"col-xs-12"},ee={class:"col-xs-12 flex justify-center items-center q-gutter-sm"},le={class:"flex justify-between items-center"},te={class:"flex q-gutter-sm"},fe=Object.assign({layout:H},{__name:"Create",props:{job:Object},setup(N){const S=N,s=A({exam_name:"",exam_date:"",description:"",start_at:"",end_at:"",pass_mark:"",full_mark:"",active:!1,subjects:[]}),v=g(!1),n=g({subject_name:"",exam_date:"",full_mark:"",start_time:"",end_time:""}),V=()=>{n.value={name:"",exam_date:"",full_mark:"",start_at:"",end_at:""},v.value=!1};function y(i){if(!i)return"";const[l,e]=i.split(":"),c=parseInt(l,10),x=c>=12;return`${c%12||12}:${e} ${x?"PM":"AM"}`}function C(i){if(!i)return"";const l=new Date(i),e={day:"2-digit",month:"long",year:"numeric"};return l.toLocaleDateString("en-IN",e)}const D=()=>{s.subjects.push({...n.value}),V()},U=i=>{s.subjects.splice(i,1)},q=()=>{s.post(route("exams.store",S.job.id))};return(i,l)=>(_(),k(R,{padding:""},{default:a(()=>[t(L,{onSubmit:q,onReset:i.reset,class:"row q-col-gutter-sm zcard q-pa-md"},{default:a(()=>[o("div",O,[t(r,{modelValue:u(s).exam_name,"onUpdate:modelValue":l[0]||(l[0]=e=>u(s).exam_name=e),outlined:"",dense:"",class:"my-input",label:"Name of examination",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),o("div",Y,[t(r,{modelValue:u(s).pass_mark,"onUpdate:modelValue":l[1]||(l[1]=e=>u(s).pass_mark=e),outlined:"",dense:"",class:"my-input",label:"Pass mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",G,[t(r,{modelValue:u(s).full_mark,"onUpdate:modelValue":l[2]||(l[2]=e=>u(s).full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",J,[t(r,{modelValue:u(s).start_at,"onUpdate:modelValue":l[3]||(l[3]=e=>u(s).start_at=e),type:"datetime-local",outlined:"",dense:"","stack-label":"",class:"my-input",label:"Start",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",K,[t(r,{modelValue:u(s).end_at,"onUpdate:modelValue":l[4]||(l[4]=e=>u(s).end_at=e),type:"datetime-local","stack-label":"",outlined:"",dense:"",class:"my-input",label:"End",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",W,[t(I,{modelValue:u(s).active,"onUpdate:modelValue":l[5]||(l[5]=e=>u(s).active=e),label:"Active"},null,8,["modelValue"])]),o("div",X,[t(P)]),o("div",Z,[l[13]||(l[13]=o("div",{class:"text-grey-7"},"Click Add button to add paper",-1)),t(m,{onClick:l[6]||(l[6]=e=>v.value=!0),rounded:"",color:"primary",outline:"",label:"Add"})]),o("div",h,[t(z,{flat:""},{default:a(()=>[t(Q,null,{default:a(()=>[t(p,{align:"left",style:{width:"20%"}},{default:a(()=>l[14]||(l[14]=[d("Subject")])),_:1}),t(p,{align:"center",style:{width:"20%"}},{default:a(()=>l[15]||(l[15]=[d("Date")])),_:1}),t(p,{align:"center",style:{width:"15%"}},{default:a(()=>l[16]||(l[16]=[d("Pass Mark")])),_:1}),t(p,{align:"center",style:{width:"15%"}},{default:a(()=>l[17]||(l[17]=[d("Start")])),_:1}),t(p,{align:"center",style:{width:"20%"}},{default:a(()=>l[18]||(l[18]=[d("End")])),_:1}),t(p,{align:"center",style:{width:"10%"}},{default:a(()=>l[19]||(l[19]=[d("Action")])),_:1})]),_:1}),(_(!0),T(F,null,E(u(s).subjects,(e,c)=>(_(),k(Q,{key:c},{default:a(()=>[t(f,{align:"left"},{default:a(()=>[d(b(e==null?void 0:e.subject_name),1)]),_:2},1024),t(f,{align:"center"},{default:a(()=>[d(b(C(e==null?void 0:e.exam_date)),1)]),_:2},1024),t(f,{align:"center"},{default:a(()=>[d(b(e==null?void 0:e.full_mark),1)]),_:2},1024),t(f,{align:"center"},{default:a(()=>[d(b(y(e==null?void 0:e.start_time)),1)]),_:2},1024),t(f,{align:"center"},{default:a(()=>[d(b(y(e==null?void 0:e.end_time)),1)]),_:2},1024),t(f,{align:"center"},{default:a(()=>[t(m,{flat:"",icon:"cancel",onClick:x=>U(c)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",ee,[t(m,{type:"reset",label:"Cancel",flat:""}),t(m,{class:"q-px-lg",type:"submit",label:"Save",rounded:"",color:"primary"})]),t(B,{modelValue:v.value,"onUpdate:modelValue":l[12]||(l[12]=e=>v.value=e)},{default:a(()=>[t(M,{class:"q-pa-md"},{default:a(()=>[o("div",le,[l[20]||(l[20]=o("div",{class:"ztext-lg"},"New Subject",-1)),j(t($,{name:"cancel",class:"cursor-pointer"},null,512),[[w]])]),l[21]||(l[21]=o("br",null,null,-1)),t(r,{modelValue:n.value.subject_name,"onUpdate:modelValue":l[7]||(l[7]=e=>n.value.subject_name=e),outlined:"",class:"my-input",rules:[e=>!!e||"Name is required"],label:"Paper Name"},null,8,["modelValue","rules"]),t(r,{modelValue:n.value.exam_date,"onUpdate:modelValue":l[8]||(l[8]=e=>n.value.exam_date=e),outlined:"",class:"my-input",rules:[e=>!!e||"Exam Date is required"],type:"date",label:"Date of Exam"},null,8,["modelValue","rules"]),t(r,{modelValue:n.value.full_mark,"onUpdate:modelValue":l[9]||(l[9]=e=>n.value.full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"]),t(r,{modelValue:n.value.start_time,"onUpdate:modelValue":l[10]||(l[10]=e=>n.value.start_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"Start time is required"],label:"Start At"},null,8,["modelValue","rules"]),t(r,{modelValue:n.value.end_time,"onUpdate:modelValue":l[11]||(l[11]=e=>n.value.end_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"End tim is required"],label:"End At"},null,8,["modelValue","rules"]),o("div",te,[t(m,{type:"submit",style:{"min-width":"90px"},rounded:"",color:"primary",onClick:D,label:"Add"}),j(t(m,{rounded:"",color:"negative",outline:"",label:"Reset",onClick:V},null,512),[[w]])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onReset"])]),_:1}))}});export{fe as default};
