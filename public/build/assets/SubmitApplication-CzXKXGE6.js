import{Q as at}from"./QImg-Bm8KEkAK.js";import{T as st,r as X,o as s,c as d,a as v,u as dt,w as rt,F as h,Z as ut,b as e,t as l,e as p,g as o,p as Z,n as _,d as mt,V as ct,s as pt}from"./app-D3lAG8hJ.js";import{Q as gt}from"./QPage-Cx-Lq6Am.js";import{A as ft}from"./ApplicantLayout-BixWkJGT.js";import{u as bt}from"./use-quasar-zktq9uvy.js";import"./QLayout-DXwAq9-3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const yt={class:"p-4 bg-background rounded-lg shadow-md"},xt={class:"text-base"},wt={class:"text-base"},kt={class:"text-base"},vt={class:"text-base"},ht={class:"mt-6 flex justify-between w-full"},Dt={key:0,class:"p-4"},Ct={key:0,class:"flex flex-col md:flex-row p-4 bg-background rounded-lg shadow-md"},Pt={class:"w-full md:w-1/2 p-4 border-r border-border"},Nt={class:"flex items-center mb-4"},St={class:"text-md font-bold"},At={class:"w-full md:w-1/2 p-4"},jt={key:1,class:"p-4 bg-background rounded-lg shadow-md"},Ot={class:"grid grid-cols-2 gap-4"},Tt={class:"col-xs-8 flex items-center text-grey-6"},Et={class:"block text-sm font-medium"},Lt={class:"col-xs-4"},It=["id","onChange"],Bt={key:2,class:"p-4 bg-background rounded-lg shadow-md"},Ft={class:"grid grid-cols-2 gap-4"},Vt={class:"col-xs-8 flex items-center text-grey-6"},$t={class:"block text-sm font-medium"},Mt={class:"col-xs-4"},Qt=["id","onChange"],Ut={class:"mx-auto bg-white dark:bg-card shadow-lg rounded-lg p-6 flex flex-col items-center mt-2"},Ht={class:"mt-6 flex justify-between w-full"},qt={class:"text-red-500"},zt={class:"flex items-center justify-end flex-col"},Jt=["src"],Rt={class:"flex items-center gap-8 justify-center mt-4"},Wt=["disabled"],Yt=["disabled"],Gt=["disabled"],le=Object.assign({layout:ft},{__name:"SubmitApplication",props:["jobDetail","mandatoryDocuments","applicant","application","optionalDocuments"],setup(n){const u=bt(),f=n,b=st({document_id:null,file:null,application_id:f.application.id}),y=X(!1);function D(i,t){b.document_id=t,b.file=i.target.files[0]}const tt=()=>{u.dialog({title:"Confirmation",message:"Do you want to update the Application?",ok:"Proceed",cancel:"Back"}).onOk(()=>{b.post(route("application.update",{jobDetail:f.jobDetail.id}),{onSuccess:()=>{b.reset()}})})},x=X(!1),et=()=>{x.value=!x.value},nt=i=>{const t=new Date(i),r={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("en-IN",r)},lt=i=>{u.dialog({title:"Confirmation",message:"Do you want to delete the Application?",ok:"Proceed",cancel:"Back"}).onOk(()=>{ct.delete(route("application.delete_draft",i))})},ot=i=>{if(!i)return"";const t={day:"2-digit",month:"2-digit",year:"numeric"};return new Intl.DateTimeFormat("en-IN",t).format(new Date(i))},C=i=>{let t=document.createElement("a");t.target="_blank",t.href=`/storage/${i==null?void 0:i.document_path}`,t.click()},it=()=>{u.dialog({title:"Confirmation",message:"Application is draft by default and you can pay later. Do you want to proceed with payment",ok:"Proceed",cancel:"Back"}).onOk(()=>{u.loading.show(),pt.post("/paytm/initiate",{job_ids:f.jobDetail.id,application_id:f.application.id}).then(i=>{const{token:t,order_id:r,amount:w}=i.data;var k={root:"",flow:"DEFAULT",data:{orderId:r,token:t,tokenType:"TXN_TOKEN",amount:w},handler:{notifyMerchant:function(m,c){console.log("notifyMerchant handler function called"),console.log("eventName => ",m),console.log("data => ",c)}}};window.Paytm&&window.Paytm.CheckoutJS?window.Paytm.CheckoutJS.init(k).then(function(){window.Paytm.CheckoutJS.invoke()}).catch(function(c){console.log("error => ",c)}):(console.log("Error Paytm"),u.notify({type:"warning",message:"Unable to load Checkout Page: Please Reload to try again"}))}).catch(i=>{var t,r;console.log(i),u.notify({type:"negative",message:((r=(t=i==null?void 0:i.response)==null?void 0:t.data)==null?void 0:r.message)||i.toString()})}).finally(()=>{u.loading.hide()})})};return(i,t)=>(s(),d(h,null,[v(dt(ut),{title:"Draft Application"}),v(gt,{padding:""},{default:rt(()=>{var r,w,k,m,c,P,N,S,A,j,O,T,E,L,I,B,F,V,$,M,Q,U,H,q,z,J,R,W,Y,G,K;return[e("div",yt,[t[1]||(t[1]=e("h2",{class:"text-lg font-bold"},"Name of Post",-1)),e("p",xt,l(n.jobDetail.post_name),1),t[2]||(t[2]=e("h2",{class:"text-lg font-bold mt-4"},"Number of Post",-1)),e("p",wt,l(n.jobDetail.no_of_post),1),t[3]||(t[3]=e("h2",{class:"text-lg font-bold mt-4"},"Application Last Date",-1)),e("p",kt,l(ot(n.jobDetail.application_deadline)),1),t[4]||(t[4]=e("h2",{class:"text-lg font-bold mt-4"},"Application Fee ",-1)),e("p",vt,"General -"+l(n.jobDetail.application_fee_general)+". SC\\ST\\Others- "+l(n.jobDetail.application_fee_other),1),t[5]||(t[5]=e("h2",{class:"text-lg font-bold mt-4"},"Certification by Head of Department / Cadre Authority (PDF)",-1)),t[6]||(t[6]=e("a",{href:"#",class:"inline-block mt-2 bg-destructive text-destructive-foreground py-2 px-4 rounded-lg hover:bg-destructive/80"}," DOWNLOAD TEMPLATE ",-1))]),e("div",ht,[n.applicant?(s(),d("div",Dt,[e("button",{onClick:et,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},l(x.value?"Hide Profile":"Show Profile"),1)])):p("",!0)]),x.value?(s(),d("div",Ct,[e("div",Pt,[e("div",Nt,[v(at,{src:`/storage/${n.applicant.passport_photo}`,alt:"Passport Size Photo",class:"mr-4",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,["src"]),e("div",null,[e("h3",St,l((r=n.applicant)==null?void 0:r.user.name),1),t[7]||(t[7]=e("p",{class:"text-muted-foreground"},"Name (As HSLC Cert. / Service Book)",-1))])]),e("p",null,[t[8]||(t[8]=e("strong",null,"Sex:",-1)),o(" "+l((w=n.applicant)==null?void 0:w.sex),1)]),e("p",null,[t[9]||(t[9]=e("strong",null,"Mobile No:",-1)),o(" "+l((k=n.applicant)==null?void 0:k.user.phone),1)]),e("p",null,[t[10]||(t[10]=e("strong",null,"Parent's Name:",-1)),o(" "+l((m=n.applicant)==null?void 0:m.parents_name),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"Date of Birth:",-1)),o(" "+l((c=n.applicant)==null?void 0:c.date_of_birth),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Community:",-1)),o(" "+l((P=n.applicant)==null?void 0:P.community),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Religion:",-1)),o(" "+l((N=n.applicant)==null?void 0:N.religion),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Nationality:",-1)),o(" "+l((S=n.applicant)==null?void 0:S.nationality),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"Qualification:",-1)),o(l((A=n.applicant)==null?void 0:A.qualification)+", "+l((j=n.applicant)==null?void 0:j.graduateDegree),1)]),e("p",null,[t[16]||(t[16]=e("strong",null,"Working knowledge of Mizo Language:",-1)),o(" "+l((O=n.applicant)!=null&&O.mizo_proficiency?"YES":"NO"),1)]),e("p",null,[t[17]||(t[17]=e("strong",null,"Person with Disability:",-1)),o(" "+l((T=n.applicant)!=null&&T.disability?"YES":"NO"),1)]),e("p",null,[t[18]||(t[18]=e("strong",null,"Person with Disability Detail:",-1)),o(l((E=n.applicant)==null?void 0:E.disability_type),1)])]),e("div",At,[t[35]||(t[35]=e("h2",{class:"text-lg font-semibold"},"Permanent Address",-1)),e("p",null,[t[19]||(t[19]=e("strong",null,"House No:",-1)),o(l((L=n.applicant)==null?void 0:L.user.address.permanent_house_no),1)]),e("p",null,[t[20]||(t[20]=e("strong",null,"Street:",-1)),o(" "+l((I=n.applicant)==null?void 0:I.user.address.permanent_street),1)]),e("p",null,[t[21]||(t[21]=e("strong",null,"Locality (Veng):",-1)),o(" "+l((B=n.applicant)==null?void 0:B.user.address.permanent_locality),1)]),e("p",null,[t[22]||(t[22]=e("strong",null,"Landmark:",-1)),o(" "+l((F=n.applicant)==null?void 0:F.user.address.permanent_landmark),1)]),e("p",null,[t[23]||(t[23]=e("strong",null,"Town / City:",-1)),o(" "+l((V=n.applicant)==null?void 0:V.user.address.permanent_city),1)]),e("p",null,[t[24]||(t[24]=e("strong",null,"District:",-1)),o(" "+l(($=n.applicant)==null?void 0:$.user.address.permanent_district),1)]),e("p",null,[t[25]||(t[25]=e("strong",null,"State / UT:",-1)),o(" "+l((M=n.applicant)==null?void 0:M.user.address.permanent_state),1)]),e("p",null,[t[26]||(t[26]=e("strong",null,"PIN:",-1)),o(" "+l((Q=n.applicant)==null?void 0:Q.user.address.permanent_pin_code),1)]),t[36]||(t[36]=e("h2",{class:"text-lg font-semibold mt-4"},"Communication Address",-1)),e("p",null,[t[27]||(t[27]=e("strong",null,"House No:",-1)),o(" "+l((U=n.applicant)==null?void 0:U.user.address.communication_house_no),1)]),e("p",null,[t[28]||(t[28]=e("strong",null,"Street:",-1)),o(" "+l((H=n.applicant)==null?void 0:H.user.address.communication_street),1)]),e("p",null,[t[29]||(t[29]=e("strong",null,"Locality (Veng):",-1)),o(" "+l((q=n.applicant)==null?void 0:q.user.address.communication_locality),1)]),e("p",null,[t[30]||(t[30]=e("strong",null,"Landmark:",-1)),o(" "+l((z=n.applicant)==null?void 0:z.user.address.communication_landmark),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"Town / City:",-1)),o(" "+l((J=n.applicant)==null?void 0:J.user.address.communication_city),1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"District:",-1)),o(" "+l((R=n.applicant)==null?void 0:R.user.address.communication_district),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"State / UT:",-1)),o(l((W=n.applicant)==null?void 0:W.user.address.communication_state),1)]),e("p",null,[t[34]||(t[34]=e("strong",null,"PIN:",-1)),o(" "+l((Y=n.applicant)==null?void 0:Y.user.address.communication_pin_code),1)])])])):p("",!0),n.mandatoryDocuments.length!==0?(s(),d("div",jt,[t[37]||(t[37]=e("h2",{class:"text-lg font-bold mb-3"},"Mandatory Documents",-1)),e("div",Ot,[(s(!0),d(h,null,Z(n.mandatoryDocuments,a=>(s(),d("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[e("div",Tt,[e("label",Et,l(a.document_name),1),v(_,{label:(i.$q.screen.lt.sm,"OPEN"),color:"primary",flat:"",onClick:g=>C(a.document_attachments)},null,8,["label","onClick"])]),e("div",Lt,[e("input",{type:"file",id:"file-"+a.id,onChange:g=>D(g,a.id),class:"text-sm mt-2"},null,40,It)])]))),128))])])):p("",!0),n.optionalDocuments.length!==0?(s(),d("div",Bt,[t[38]||(t[38]=e("h2",{class:"text-lg font-bold mb-3"},"Optional Documents",-1)),e("div",Ft,[(s(!0),d(h,null,Z(n.optionalDocuments,a=>(s(),d("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[e("div",Vt,[e("label",$t,l(a.document_name),1),a.document_attachments.document_path?(s(),mt(_,{key:0,label:(i.$q.screen.lt.sm,"OPEN"),color:"primary",flat:"",onClick:g=>C(a.document_attachments)},null,8,["label","onClick"])):p("",!0)]),e("div",Mt,[e("input",{type:"file",id:"file-"+a.id,onChange:g=>D(g,a.id),class:"text-sm mt-2"},null,40,Qt)])]))),128))])])):p("",!0),e("div",Ut,[t[41]||(t[41]=e("h2",{class:"text-red-500 text-2xl font-bold text-center tracking-widest"},"D E C L A R A T I O N",-1)),t[42]||(t[42]=e("p",{class:"text-red-500 mt-4"}," I hereby declare that the information given above and in the enclosed documents is true to the best of my knowledge and belief and nothing has been concealed therein. I understand that if the information given by me is proved false / not true, I will have to face the punishment as per the law. Also, all the benefits availed by me shall be summarily withdrawn. ",-1)),e("div",Ht,[e("div",null,[t[39]||(t[39]=e("span",{class:"text-red-500 font-semibold"},"Date :",-1)),e("span",qt,l(nt(n.application.created_at)),1)]),e("div",zt,[(G=n.applicant)!=null&&G.signature_photo?(s(),d("img",{key:0,alt:"Signature of the Candidate",src:`/storage/${(K=n.applicant)==null?void 0:K.signature_photo}`,class:"border border-zinc-300 rounded w-40 h-40 object-contain"},null,8,Jt)):p("",!0),t[40]||(t[40]=e("p",{class:"text-red-500 text-center mt-2"},"Signature of the Candidate",-1))])])]),e("div",Rt,[e("button",{onClick:t[0]||(t[0]=a=>lt(n.jobDetail.id)),class:"bg-red-600 text-white px-6 py-3 rounded-md hover:bg-red-700 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:y.value}," Delete Draft ",8,Wt),e("button",{onClick:tt,class:"bg-yellow-500 text-white px-6 py-3 rounded-md hover:bg-yellow-600 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-400 disabled:opacity-50",disabled:y.value}," Update ",8,Yt),e("button",{class:"bg-accent text-accent-foreground text-white px-6 py-3 rounded-md hover:bg-accent/80 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",disabled:y.value,onClick:it},l(y.value?"Submitting...":"Make Payment"),9,Gt)])]}),_:1})],64))}});export{le as default};
