import{Q as fe}from"./QSpace-Brm4gke3.js";import{Q as me,a as ye}from"./QBreadcrumbs-DqHre9Dg.js";import{S as ve,T as Ve,r as xe,o as _,d as Se,w as u,b as s,a as t,Q as n,u as o,m as c,c as ue,p as we,W as pe,X as qe,bo as Be,n as g,F as Ue,g as Pe,P as ge,a0 as Qe}from"./app-D3lAG8hJ.js";import{Q as b}from"./QSelect-Dh3o__7U.js";import{Q as Oe}from"./QForm-CC0ob0Dj.js";import{Q as Ce}from"./QPage-Cx-Lq6Am.js";import{A as $e}from"./Admin-CnYh41r5.js";import{u as De}from"./use-quasar-zktq9uvy.js";import"./QChip-UE6Nfzil.js";import"./QLayout-DXwAq9-3.js";import"./QMenu-B0jmn3Aq.js";import"./rtl-DFPa-2ov.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ae={class:"flex flex-inline items-center"},Ne={class:"row q-col-gutter-sm"},ke={class:"col-xs-12"},Fe={class:"col-xs-12"},Le={class:"col-xs-12"},Re={class:"col-xs-12"},je={class:"col-xs-12"},Ee={class:"col-xs-12"},Ge={class:"col-xs-12"},Te={class:"col-xs-12"},Me={class:"col-xs-12"},Je={class:"col-xs-12"},ze={class:"col-xs-12"},He={class:"col-xs-12"},Ie={class:"col-xs-12"},We={class:"col-xs-12"},Xe={class:"col-xs-12"},Ke=["onUpdate:modelValue"],Ye=["onUpdate:modelValue"],Ze={class:"col-xs-12"},he={class:"col-xs-12"},er={class:"col-xs-12"},rr={class:"col-xs-12"},cr=Object.assign({layout:$e},{__name:"Edit",props:["data","current_department","departments"],setup(f){var v,V,x,S,w,q,B,U,P,Q,O,C,$,D,A,N,k;const y=De(),a=f;ve({submitting:!1});const e=Ve({post_name:(v=a.data)==null?void 0:v.post_name,code:(V=a.data)==null?void 0:V.code,category:(x=a.data)==null?void 0:x.category,departments:{label:(S=a==null?void 0:a.current_department)==null?void 0:S.name,value:(w=a==null?void 0:a.current_department)==null?void 0:w.id},no_of_post:(q=a.data)==null?void 0:q.no_of_post,salary:(B=a.data)==null?void 0:B.salary,upper_age_limit:(U=a.data)==null?void 0:U.upper_age_limit,lower_age_limit:(P=a.data)==null?void 0:P.lower_age_limit,age_relaxation:(Q=a.data)==null?void 0:Q.age_relaxation,application_fee_general:(O=a.data)==null?void 0:O.application_fee_general,application_fee_other:(C=a.data)==null?void 0:C.application_fee_other,qualification:($=a.data)==null?void 0:$.qualification,application_deadline:(D=a.data)==null?void 0:D.application_deadline,active:(A=a.data)==null?void 0:A.active,description:(N=a.data)==null?void 0:N.description,documents:((k=a.data)==null?void 0:k.documents.map(i=>({id:i.id,job_detail_id:i.job_detail_id,name:i.document_name,description:i.document_description,is_mandatory:i.is_mandatory})))||[]});console.log(e.documents),xe({});const _e=()=>{e.documents.push({name:"",description:"",is_mandatory:1})},ce=i=>{e.documents.splice(i,1)},be=i=>{var l;e.transform(d=>{var m;return{department_id:(m=d.departments)==null?void 0:m.value,...d}}).put(route("job.update",(l=a.data)==null?void 0:l.id),{onStart:d=>y.loading.show({message:"Updating..."}),onFinish:d=>y.loading.hide()})};return(i,l)=>(_(),Se(Ce,{padding:""},{default:u(()=>[s("div",Ae,[l[29]||(l[29]=s("p",{class:"page-title"},"Edit Job profile",-1)),t(fe),t(ye,{align:"right",gutter:"xs"},{default:u(()=>[t(me,{to:{name:"job-profile:read"},label:"Jobs"}),t(me,{label:"Edit "})]),_:1})]),t(Oe,{class:"zcard q-pa-md",onReset:i.resetForm,onSubmit:be},{default:u(()=>{var d,m,F,L,R,j,E,G,T,M,J,z,H,I,W,X,K,Y,Z,h,ee,re,oe,le,se,te,ae,ne,ie;return[s("div",Ne,[l[33]||(l[33]=s("div",{class:"col-xs-12 primary-title q-my-md"},"Job profile",-1)),s("div",ke,[t(n,{modelValue:o(e).code,"onUpdate:modelValue":l[0]||(l[0]=r=>o(e).code=r),class:"my-input",dense:"",label:"Code",outlined:"",error:o(e).errors.hasOwnProperty("code"),"error-message":(m=(d=o(e).errors)==null?void 0:d.code)==null?void 0:m.toString(),onBlur:l[1]||(l[1]=r=>delete o(e).errors.code),rules:[r=>!!r||"Code is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Fe,[t(n,{modelValue:o(e).post_name,"onUpdate:modelValue":l[2]||(l[2]=r=>o(e).post_name=r),class:"my-input",dense:"",label:"Name",outlined:"",error:o(e).errors.hasOwnProperty("post_name"),"error-message":(L=(F=o(e).errors)==null?void 0:F.post_name)==null?void 0:L.toString(),onBlur:l[3]||(l[3]=r=>delete o(e).errors.post_name),rules:[r=>!!r||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Le,[t(b,{modelValue:o(e).departments,"onUpdate:modelValue":l[4]||(l[4]=r=>o(e).departments=r),clearable:"",error:!!((R=o(e).errors)!=null&&R.departments),"error-message":(E=(j=o(e).errors)==null?void 0:j.departments)==null?void 0:E.toString(),options:f.departments,"bg-color":"white",label:"Department","no-error-icon":"",outlined:"","option-value":"value","option-label":"label"},null,8,["modelValue","error","error-message","options"])]),s("div",Re,[t(b,{modelValue:o(e).category,"onUpdate:modelValue":l[5]||(l[5]=r=>o(e).category=r),class:"my-input",options:["A","B","C","D"],dense:"",label:"Group",outlined:"",error:o(e).errors.hasOwnProperty("category"),"error-message":(T=(G=o(e).errors)==null?void 0:G.category)==null?void 0:T.toString(),onBlur:l[6]||(l[6]=r=>delete o(e).errors.category),rules:[r=>!!r||"Group is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",je,[t(n,{modelValue:o(e).description,"onUpdate:modelValue":l[7]||(l[7]=r=>o(e).description=r),class:"my-input",dense:"",label:"Description",outlined:"",error:o(e).errors.hasOwnProperty("description"),"error-message":(J=(M=o(e).errors)==null?void 0:M.description)==null?void 0:J.toString(),onBlur:l[8]||(l[8]=r=>delete o(e).errors.description),rules:[r=>!!r||"Description is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ee,[t(n,{modelValue:o(e).salary,"onUpdate:modelValue":l[9]||(l[9]=r=>o(e).salary=r),class:"my-input",dense:"",label:"Salary",outlined:"",error:o(e).errors.hasOwnProperty("salary"),"error-message":(H=(z=o(e).errors)==null?void 0:z.salary)==null?void 0:H.toString(),onBlur:l[10]||(l[10]=r=>delete o(e).errors.salary),rules:[r=>!!r||"Salary is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ge,[t(n,{modelValue:o(e).no_of_post,"onUpdate:modelValue":l[11]||(l[11]=r=>o(e).no_of_post=r),class:"my-input",dense:"",label:"POST",outlined:"",error:o(e).errors.hasOwnProperty("no_of_post"),"error-message":(W=(I=o(e).errors)==null?void 0:I.no_of_post)==null?void 0:W.toString(),onBlur:l[12]||(l[12]=r=>delete o(e).errors.no_of_post),rules:[r=>Number(r)||"Post must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Te,[t(n,{modelValue:o(e).application_deadline,"onUpdate:modelValue":l[13]||(l[13]=r=>o(e).application_deadline=r),class:"my-input",dense:"",type:"date",label:"Application Deadline",outlined:"",error:o(e).errors.hasOwnProperty("application_deadline"),"error-message":(K=(X=o(e).errors)==null?void 0:X.application_deadline)==null?void 0:K.toString(),onBlur:l[14]||(l[14]=r=>delete o(e).errors.application_deadline),rules:[r=>!!r||"Deadline is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Me,[t(n,{modelValue:o(e).upper_age_limit,"onUpdate:modelValue":l[15]||(l[15]=r=>o(e).upper_age_limit=r),class:"my-input",dense:"",label:"Upper Age Limit",outlined:"",error:o(e).errors.hasOwnProperty("upper_age_limit"),"error-message":(Z=(Y=o(e).errors)==null?void 0:Y.upper_age_limit)==null?void 0:Z.toString(),onBlur:l[16]||(l[16]=r=>delete o(e).errors.upper_age_limit),rules:[r=>Number(r)||"Age must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Je,[t(n,{modelValue:o(e).lower_age_limit,"onUpdate:modelValue":l[17]||(l[17]=r=>o(e).lower_age_limit=r),class:"my-input",dense:"",label:"Lower Age Limit",outlined:"",error:o(e).errors.hasOwnProperty("lower_age_limit"),"error-message":(ee=(h=o(e).errors)==null?void 0:h.lower_age_limit)==null?void 0:ee.toString(),onBlur:l[18]||(l[18]=r=>delete o(e).errors.lower_age_limit),rules:[r=>Number(r)||"Age must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",ze,[t(n,{modelValue:o(e).age_relaxation,"onUpdate:modelValue":l[19]||(l[19]=r=>o(e).age_relaxation=r),class:"my-input",dense:"",label:"Age Relaxation",outlined:"",error:o(e).errors.hasOwnProperty("age_relaxation"),"error-message":(oe=(re=o(e).errors)==null?void 0:re.age_relaxation)==null?void 0:oe.toString(),onBlur:l[20]||(l[20]=r=>delete o(e).errors.age_relaxation),rules:[r=>Number(r)||"Age must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",He,[t(n,{modelValue:o(e).application_fee_other,"onUpdate:modelValue":l[21]||(l[21]=r=>o(e).application_fee_other=r),class:"my-input",dense:"",label:"Fee for SC/ST/OBC",outlined:"",error:o(e).errors.hasOwnProperty("application_fee_other"),"error-message":(se=(le=o(e).errors)==null?void 0:le.application_fee_other)==null?void 0:se.toString(),onBlur:l[22]||(l[22]=r=>delete o(e).errors.application_fee_other),rules:[r=>Number(r)||"Fee must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ie,[t(n,{modelValue:o(e).application_fee_general,"onUpdate:modelValue":l[23]||(l[23]=r=>o(e).application_fee_general=r),class:"my-input",dense:"",label:"Fee for General",outlined:"",error:o(e).errors.hasOwnProperty("application_fee_general"),"error-message":(ae=(te=o(e).errors)==null?void 0:te.application_fee_general)==null?void 0:ae.toString(),onBlur:l[24]||(l[24]=r=>delete o(e).errors.application_fee_general),rules:[r=>Number(r)||"Fee must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",We,[t(b,{modelValue:o(e).qualification,"onUpdate:modelValue":l[25]||(l[25]=r=>o(e).qualification=r),class:"my-input",options:["Class 8","HSLC","HSSLC","Graduate","Post Graduate","PhD"],dense:"",label:"Minimum Qualification",outlined:"",error:o(e).errors.hasOwnProperty("qualification"),"error-message":(ie=(ne=o(e).errors)==null?void 0:ne.qualification)==null?void 0:ie.toString(),onBlur:l[26]||(l[26]=r=>delete o(e).errors.qualification),rules:[r=>!!r||"Please select Qualification"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Xe,[t(c,{class:"q-my-md"})]),s("div",null,[l[31]||(l[31]=s("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Required Documents",-1)),(_(!0),ue(Ue,null,we(o(e).documents,(r,de)=>(_(),ue("div",{key:de,class:"flex space-x-4 items-center mb-3"},[pe(s("input",{type:"text","onUpdate:modelValue":p=>r.name=p,placeholder:"Document Name",class:"flex-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,8,Ke),[[qe,r.name]]),pe(s("select",{"onUpdate:modelValue":p=>r.is_mandatory=p,class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},l[30]||(l[30]=[s("option",{value:"1"},"Mandatory",-1),s("option",{value:"0"},"Optional",-1)]),8,Ye),[[Be,r.is_mandatory]]),t(g,{round:"",color:"red",style:{"font-size":"12px"},onClick:p=>ce(de),icon:"delete"},null,8,["onClick"])]))),128))]),s("div",Ze,[t(g,{outline:"",color:"primary",onClick:_e},{default:u(()=>l[32]||(l[32]=[Pe(" Add Document ")])),_:1})]),s("div",he,[t(c,{class:"q-my-md"})]),s("div",er,[t(ge,{modelValue:o(e).active,"onUpdate:modelValue":l[27]||(l[27]=r=>o(e).active=r),val:1,label:"Open"},null,8,["modelValue"]),t(ge,{modelValue:o(e).active,"onUpdate:modelValue":l[28]||(l[28]=r=>o(e).active=r),val:0,label:"Closed"},null,8,["modelValue"])])]),s("div",rr,[t(c,{class:"q-my-md"})]),t(Qe,{class:"q-mt-md"},{default:u(()=>[t(g,{color:"primary",flat:"",type:"submit",label:"Save"}),t(g,{color:"negative",flat:"",type:"reset",label:"Reset"})]),_:1})]}),_:1},8,["onReset"])]),_:1}))}});export{cr as default};
