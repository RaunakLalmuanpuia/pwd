import{b}from"./QMenu-DydHWm0B.js";import{o as r,a as _,b as i,d as t,e as a,F as D,l as Q,j as u,a8 as q,v as p,t as g,q as w,a9 as C}from"./app-CLnFNOc4.js";import{Q as x,a as d,b as f,c as m}from"./QLayout-DLfvAPOX.js";import{Q as A}from"./QBtnDropdown-CMCqR2fm.js";import{C as v}from"./ClosePopup-ahYTvXr4.js";import{A as j}from"./Admin-DUpmoHaT.js";import{u as B}from"./use-quasar-BLOAHIeo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"container mx-auto p-6"},N={class:"flex items-center"},z=Object.assign({layout:j},{__name:"Eligible",props:["jobDetails"],setup(k){const c=B();function y(n){const l={timeZone:"Asia/Kolkata",weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-IN",l).format(new Date(n)).replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$1/$2/$3")}const h=n=>{c.loading.show();const l=route("export.job.eligible.details",n);C.get(l,{responseType:"blob"}).then(e=>{const s=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=s,o.setAttribute("download",Date.now()+".xlsx"),o.click()}).catch(e=>{var s,o;c.notify({type:"negative",message:((o=(s=e.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to download file"})}).finally(()=>{c.loading.hide()})};return(n,l)=>(r(),_("div",L,[i("div",$,[i("div",E,[i("div",I,[l[3]||(l[3]=i("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Eligible Application",-1)),t(x,null,{default:a(()=>[(r(!0),_(D,null,Q(k.jobDetails,(e,s)=>(r(),u(m,{class:"zcard q-mt-sm",key:s},{default:a(()=>[t(d,{avatar:""},{default:a(()=>[t(q,{square:""},{default:a(()=>[t(b,{square:"",label:s+1},null,8,["label"])]),_:2},1024)]),_:2},1024),t(d,null,{default:a(()=>[t(f,null,{default:a(()=>[p(g(e==null?void 0:e.post_name)+" Posted on: "+g(y(e==null?void 0:e.created_at)),1)]),_:2},1024)]),_:2},1024),t(d,{side:""},{default:a(()=>[i("div",N,[l[2]||(l[2]=i("div",{class:"text-caption"},"No of Applications",-1)),t(b,{"text-color":"white",square:"",color:"primary",label:e==null?void 0:e.applications_count},null,8,["label"]),t(A,{rounded:"",flat:"","dropdown-icon":"more_vert",class:"q-pa-sm"},{default:a(()=>[t(x,{class:"q-pa-sm"},{default:a(()=>[w((r(),u(m,{clickable:"",onClick:o=>n.$inertia.get(n.route("admin.applications.show_eligible",e.id))},{default:a(()=>[t(d,null,{default:a(()=>[t(f,null,{default:a(()=>l[0]||(l[0]=[p("Detail of applications")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[v]]),w((r(),u(m,{clickable:"",onClick:o=>h(e.id)},{default:a(()=>[t(d,null,{default:a(()=>[t(f,null,{default:a(()=>l[1]||(l[1]=[p("Generate Excel")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[v]])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])])])]))}});export{z as default};
