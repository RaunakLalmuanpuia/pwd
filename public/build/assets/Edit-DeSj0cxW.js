import{T as P,r as x,o as k,j as q,e as u,b as a,d as t,Q as o,u as n,h as C,i as p,v as c,a as z,l as R,t as V,F as $,g as L,a9 as w,q as y,p as E,M as Q}from"./app-BT0dome_.js";import{Q as M,a as U,b,c as v}from"./QMarkupTable-DrpH4rov.js";import{Q as O}from"./QForm-D-BeSauz.js";import{Q as G}from"./QPage-PfisjsKG.js";import{C as j}from"./ClosePopup-B89fLF3w.js";import{A as H}from"./Admin-b3dBTpkG.js";import"./QLayout-BHHOhaoO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"col-xs-12 col-sm-12"},K={class:"col-xs-12 col-sm-12 q-mb-md"},W={class:"col-xs-12 col-sm-6"},X={class:"col-xs-12 col-sm-6"},Y={class:"col-xs-12 col-sm-6"},Z={class:"col-xs-12 col-sm-6"},h={class:"col-xs-12"},ee={class:"col-xs-12 flex justify-between items-center"},le={class:"col-xs-12"},te={class:"col-xs-12 col-sm-6"},ae={class:"col-xs-12"},se={class:"col-xs-12 flex justify-center items-center q-gutter-sm"},ue={class:"flex justify-between items-center"},de={class:"flex q-gutter-sm"},ne={class:"flex justify-between items-center"},oe={class:"flex q-gutter-sm"},_e=Object.assign({layout:H},{__name:"Edit",props:{exam:Object},setup(N){const r=N,s=P({exam_name:r.exam.exam_name,exam_date:r.exam.exam_date,description:r.exam.description,pass_mark:r.exam.pass_mark,full_mark:r.exam.full_mark,start_at:r.exam.start_at,end_at:r.exam.end_at,active:!!r.exam.active,subjects:r.exam.subjects.map(d=>({id:d.id,subject_name:d.subject_name,exam_date:d.exam_date,start_time:d.start_time,end_time:d.end_time}))}),f=x(!1),_=x(!1),i=x({id:"",subject_name:"",exam_date:"",start_time:"",end_time:""}),m=x({id:"",subject_name:"",exam_date:"",start_time:"",end_time:""});function S(){i.value={subject_name:"",exam_date:"",start_time:"",end_time:""}}function D(){const d={id:null,subject_name:i.value.subject_name,exam_date:i.value.exam_date,start_time:i.value.start_time,end_time:i.value.end_time};s.subjects.push(d),S(),f.value=!1}function A(d){const l=s.subjects[d];m.value={...l},_.value=!0}function F(){const d=s.subjects.findIndex(l=>l.id===m.value.id);d!==-1&&(s.subjects[d]={...m.value},_.value=!1)}function I(d){s.subjects.splice(d,1)}const B=()=>{s.put(route("exams.update",r.exam.id))};return(d,l)=>(k(),q(G,{padding:""},{default:u(()=>[l[28]||(l[28]=a("p",{class:"page-title"},"Edit Examinations",-1)),t(O,{onSubmit:B,onReset:d.reset,class:"row q-col-gutter-sm zcard q-pa-md"},{default:u(()=>[a("div",J,[t(o,{modelValue:n(s).exam_name,"onUpdate:modelValue":l[0]||(l[0]=e=>n(s).exam_name=e),outlined:"",dense:"",class:"my-input",label:"Name of examination",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),a("div",K,[t(o,{modelValue:n(s).description,"onUpdate:modelValue":l[1]||(l[1]=e=>n(s).description=e),type:"textarea",dense:"",outlined:"",class:"my-input",label:"Name of examination"},null,8,["modelValue"])]),a("div",W,[t(o,{modelValue:n(s).pass_mark,"onUpdate:modelValue":l[2]||(l[2]=e=>n(s).pass_mark=e),outlined:"",dense:"",class:"my-input",label:"Pass mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),a("div",X,[t(o,{modelValue:n(s).full_mark,"onUpdate:modelValue":l[3]||(l[3]=e=>n(s).full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),a("div",Y,[t(o,{modelValue:n(s).start_at,"onUpdate:modelValue":l[4]||(l[4]=e=>n(s).start_at=e),type:"datetime-local",outlined:"",dense:"","stack-label":"",class:"my-input",label:"Start",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),a("div",Z,[t(o,{modelValue:n(s).end_at,"onUpdate:modelValue":l[5]||(l[5]=e=>n(s).end_at=e),type:"datetime-local","stack-label":"",outlined:"",dense:"",class:"my-input",label:"End",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),a("div",h,[t(C)]),a("div",ee,[l[18]||(l[18]=a("div",{class:"text-grey-7"},"Click Add button to add paper",-1)),t(p,{onClick:l[6]||(l[6]=e=>f.value=!0),rounded:"",color:"primary",outline:"",label:"Add"})]),a("div",le,[t(M,{flat:""},{default:u(()=>[t(U,null,{default:u(()=>[t(b,{align:"left",style:{width:"30%"}},{default:u(()=>l[19]||(l[19]=[c("Subject")])),_:1}),t(b,{align:"center",style:{width:"20%"}},{default:u(()=>l[20]||(l[20]=[c("Date")])),_:1}),t(b,{align:"center",style:{width:"20%"}},{default:u(()=>l[21]||(l[21]=[c("Start")])),_:1}),t(b,{align:"center",style:{width:"20%"}},{default:u(()=>l[22]||(l[22]=[c("End")])),_:1}),t(b,{align:"center",style:{width:"10%"}},{default:u(()=>l[23]||(l[23]=[c("Action")])),_:1})]),_:1}),(k(!0),z($,null,R(n(s).subjects,(e,g)=>(k(),q(U,{key:g},{default:u(()=>[t(v,{align:"left"},{default:u(()=>[c(V(e==null?void 0:e.subject_name),1)]),_:2},1024),t(v,{align:"center"},{default:u(()=>[c(V(e==null?void 0:e.exam_date),1)]),_:2},1024),t(v,{align:"center"},{default:u(()=>[c(V(e==null?void 0:e.start_time),1)]),_:2},1024),t(v,{align:"center"},{default:u(()=>[c(V(e==null?void 0:e.end_time),1)]),_:2},1024),t(v,{align:"center"},{default:u(()=>[t(p,{flat:"",icon:"edit",onClick:T=>A(g)},null,8,["onClick"]),t(p,{flat:"",icon:"cancel",onClick:T=>I(g)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),a("div",te,[t(L,{modelValue:n(s).active,"onUpdate:modelValue":l[7]||(l[7]=e=>n(s).active=e),label:"Active"},null,8,["modelValue"])]),a("div",ae,[t(C)]),a("div",se,[t(p,{type:"reset",label:"Cancel",flat:""}),t(p,{class:"q-px-lg",type:"submit",label:"Save",rounded:"",color:"primary"})])]),_:1},8,["onReset"]),t(Q,{modelValue:f.value,"onUpdate:modelValue":l[12]||(l[12]=e=>f.value=e)},{default:u(()=>[t(w,{class:"q-pa-md"},{default:u(()=>[a("div",ue,[l[24]||(l[24]=a("div",{class:"ztext-lg"},"New Subject",-1)),y(t(E,{name:"cancel",class:"cursor-pointer"},null,512),[[j]])]),l[25]||(l[25]=a("br",null,null,-1)),t(o,{modelValue:i.value.subject_name,"onUpdate:modelValue":l[8]||(l[8]=e=>i.value.subject_name=e),outlined:"",class:"my-input",rules:[e=>!!e||"Name is required"],label:"Paper Name"},null,8,["modelValue","rules"]),t(o,{modelValue:i.value.exam_date,"onUpdate:modelValue":l[9]||(l[9]=e=>i.value.exam_date=e),outlined:"",class:"my-input",rules:[e=>!!e||"Exam Date is required"],type:"date",label:"Date of Exam"},null,8,["modelValue","rules"]),t(o,{modelValue:i.value.start_time,"onUpdate:modelValue":l[10]||(l[10]=e=>i.value.start_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"Start time is required"],label:"Start At"},null,8,["modelValue","rules"]),t(o,{modelValue:i.value.end_time,"onUpdate:modelValue":l[11]||(l[11]=e=>i.value.end_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"End tim is required"],label:"End At"},null,8,["modelValue","rules"]),a("div",de,[t(p,{type:"submit",style:{"min-width":"90px"},rounded:"",color:"primary",onClick:D,label:"Add"}),y(t(p,{rounded:"",color:"negative",outline:"",label:"Reset",onClick:S},null,512),[[j]])])]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:_.value,"onUpdate:modelValue":l[17]||(l[17]=e=>_.value=e)},{default:u(()=>[t(w,{class:"q-pa-md"},{default:u(()=>[a("div",ne,[l[26]||(l[26]=a("div",{class:"ztext-lg"},"Edit Subject",-1)),y(t(E,{name:"cancel",class:"cursor-pointer"},null,512),[[j]])]),l[27]||(l[27]=a("br",null,null,-1)),t(o,{modelValue:m.value.subject_name,"onUpdate:modelValue":l[13]||(l[13]=e=>m.value.subject_name=e),outlined:"",class:"my-input",rules:[e=>!!e||"Name is required"],label:"Paper Name"},null,8,["modelValue","rules"]),t(o,{modelValue:m.value.exam_date,"onUpdate:modelValue":l[14]||(l[14]=e=>m.value.exam_date=e),outlined:"",class:"my-input",rules:[e=>!!e||"Exam Date is required"],type:"date",label:"Date of Exam"},null,8,["modelValue","rules"]),t(o,{modelValue:m.value.start_time,"onUpdate:modelValue":l[15]||(l[15]=e=>m.value.start_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"Start time is required"],label:"Start At"},null,8,["modelValue","rules"]),t(o,{modelValue:m.value.end_time,"onUpdate:modelValue":l[16]||(l[16]=e=>m.value.end_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"End time is required"],label:"End At"},null,8,["modelValue","rules"]),a("div",oe,[t(p,{type:"submit",style:{"min-width":"90px"},rounded:"",color:"primary",onClick:F,label:"Save Changes"}),y(t(p,{rounded:"",color:"negative",outline:"",label:"Cancel",onClick:d.resetEditSubjectForm},null,8,["onClick"]),[[j]])])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{_e as default};
