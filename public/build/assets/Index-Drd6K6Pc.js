import{r as $,A as q,o as d,d as g,w as s,b as o,a as e,n as v,Q as z,D as S,z as B,c as h,p as k,g as u,t as y,F as _,m as D,C as Q}from"./app-C0HpZeVe.js";import{Q as I}from"./QSpace-CATtI3fe.js";import{Q as F}from"./QTabs-DpOCD-9-.js";import{c as b,a as c,b as m,Q as C}from"./QLayout-C48ZH50D.js";import{Q as N}from"./QChip-BZdNOvga.js";import{Q as L}from"./QBtnDropdown-fIvxY1p1.js";import{Q as U}from"./QPage-CoR-6Q9E.js";import{A}from"./Admin-B7ArI4ga.js";import{u as E}from"./use-quasar-DjJvszC4.js";import"./rtl-DFPa-2ov.js";import"./QMenu-CeDzCUZ6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"row q-gutter-md"},K={class:"flex zcard justify-between flex-inline col-12 q-pa-md"},O={class:"col-12 zcard q-pa-md"},T={class:"flex flex-inline items-center q-gutter-sm"},P={class:"col-12"},W={class:"flex q-gutter-sm"},le=Object.assign({layout:A},{__name:"Index",props:["users","search"],setup(n){const r=E();$("");const f=n,i=q({search:f==null?void 0:f.search,tab:route().current()}),w=l=>{Q.get(route("user.index"),{search:i.search})},x=l=>{Q.get(route(l))},V=l=>{r.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{r.loading.show(),Q.delete(route("user.destroy",l),{onSuccess:()=>{r.notify({type:"positive",message:"User deleted successfully"})},onError:t=>{r.notify({type:"negative",message:(t==null?void 0:t.message)||"Failed to delete user."})},onFinish:()=>{r.loading.hide()}})}).onCancel(()=>{}).onDismiss(()=>{})};return(l,t)=>(d(),g(U,{padding:""},{default:s(()=>[t[7]||(t[7]=o("p",{class:"page-title"},"Users",-1)),o("div",j,[o("div",K,[e(v,{onClick:t[0]||(t[0]=a=>l.$inertia.get(l.route("user.create"))),rounded:"",label:"New user",color:"primary"}),e(F,{stretch:"",shrink:"",modelValue:i.tab,"onUpdate:modelValue":[t[2]||(t[2]=a=>i.tab=a),x],align:"start"},{default:s(()=>[e(I),e(z,{modelValue:i.search,"onUpdate:modelValue":t[1]||(t[1]=a=>i.search=a),autofocus:"",outlined:"",dense:"",onKeyup:S(w,["enter"]),"bg-color":"white",placeholder:"Search"},{append:s(()=>[e(B,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),o("div",O,[e(C,{separator:""},{default:s(()=>[(d(!0),h(_,null,k(n.users.data,a=>(d(),g(b,{key:a.id},{default:s(()=>[e(c,null,{default:s(()=>[e(m,{class:"ztext"},{default:s(()=>[u(y((a==null?void 0:a.name)??"--"),1)]),_:2},1024),e(m,{class:"ztext",caption:""},{default:s(()=>[u(y((a==null?void 0:a.email)??"--"),1)]),_:2},1024)]),_:2},1024),e(c,{side:""},{default:s(()=>[o("div",T,[(d(!0),h(_,null,k(a.roles,p=>(d(),g(N,{key:l.name,label:p.name},null,8,["label"]))),128)),e(D,{size:"sm",vertical:""}),e(L,{class:"q-ma-none q-pa-sm",flat:"",rounded:"","dropdown-icon":"more_vert"},{default:s(()=>[e(C,{separator:""},{default:s(()=>[e(b,{onClick:p=>l.$inertia.get(l.route("user.edit",a)),clickable:""},{default:s(()=>[e(c,null,{default:s(()=>[e(m,{class:"ztext"},{default:s(()=>t[5]||(t[5]=[u("Edit")])),_:1})]),_:1})]),_:2},1032,["onClick"]),e(b,{onClick:p=>V(a),clickable:""},{default:s(()=>[e(c,null,{default:s(()=>[e(m,{class:"ztext"},{default:s(()=>t[6]||(t[6]=[u("Delete")])),_:1})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o("div",P,[o("div",W,[e(v,{disable:!n.users.prev_page_url,onClick:t[3]||(t[3]=a=>l.$inertia.get(n.users.prev_page_url)),flat:"",round:"",icon:"chevron_left"},null,8,["disable"]),e(v,{disable:!n.users.next_page_url,onClick:t[4]||(t[4]=a=>l.$inertia.get(n.users.next_page_url)),flat:"",round:"",icon:"chevron_right"},null,8,["disable"])])])])])]),_:1}))}});export{le as default};
