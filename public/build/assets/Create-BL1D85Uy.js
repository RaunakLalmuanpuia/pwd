import{T as A,r as g,o as _,j,e as s,d as t,b as o,Q as d,u as n,g as I,h as T,i as m,v as i,a as E,l as P,t as v,F,N as B,aa as $,q as k,p as M}from"./app-CLnFNOc4.js";import{Q as L,a as Q,b as c,c as f}from"./QMarkupTable-CCxXkVX4.js";import{Q as R}from"./QForm-CBEz9XBg.js";import{Q as z}from"./QPage-DhxHqyfT.js";import{C as N}from"./ClosePopup-ahYTvXr4.js";import{A as H}from"./Admin-DUpmoHaT.js";import"./QLayout-DLfvAPOX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"col-xs-12 col-sm-12"},G={class:"col-xs-12 col-sm-12 q-mb-md"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12 col-sm-6"},W={class:"col-xs-12 col-sm-6"},X={class:"col-xs-12 col-sm-6"},Y={class:"col-xs-12 col-sm-6"},Z={class:"col-xs-12"},h={class:"col-xs-12 flex justify-between items-center"},ee={class:"col-xs-12"},le={class:"col-xs-12 flex justify-center items-center q-gutter-sm"},te={class:"flex justify-between items-center"},ae={class:"flex q-gutter-sm"},fe=Object.assign({layout:H},{__name:"Create",props:{job:Object},setup(w){const S=w,a=A({exam_name:"",exam_date:"",description:"",start_at:"",end_at:"",pass_mark:"",full_mark:"",active:!1,subjects:[]}),b=g(!1),u=g({subject_name:"",exam_date:"",start_time:"",end_time:""}),V=()=>{u.value={name:"",exam_date:"",start_at:"",end_at:""},b.value=!1};function y(r){if(!r)return"";const[l,e]=r.split(":"),p=parseInt(l,10),x=p>=12;return`${p%12||12}:${e} ${x?"PM":"AM"}`}function q(r){if(!r)return"";const l=new Date(r),e={day:"2-digit",month:"long",year:"numeric"};return l.toLocaleDateString("en-IN",e)}const C=()=>{a.subjects.push({...u.value}),V()},D=r=>{a.subjects.splice(r,1)},U=()=>{a.post(route("exams.store",S.job.id))};return(r,l)=>(_(),j(z,{padding:""},{default:s(()=>[t(R,{onSubmit:U,onReset:r.reset,class:"row q-col-gutter-sm zcard q-pa-md"},{default:s(()=>[o("div",O,[t(d,{modelValue:n(a).exam_name,"onUpdate:modelValue":l[0]||(l[0]=e=>n(a).exam_name=e),outlined:"",dense:"",class:"my-input",label:"Name of examination",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),o("div",G,[t(d,{modelValue:n(a).description,"onUpdate:modelValue":l[1]||(l[1]=e=>n(a).description=e),type:"textarea",dense:"",outlined:"",class:"my-input",label:"Description"},null,8,["modelValue"])]),o("div",J,[t(d,{modelValue:n(a).pass_mark,"onUpdate:modelValue":l[2]||(l[2]=e=>n(a).pass_mark=e),outlined:"",dense:"",class:"my-input",label:"Pass mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",K,[t(d,{modelValue:n(a).full_mark,"onUpdate:modelValue":l[3]||(l[3]=e=>n(a).full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",W,[t(d,{modelValue:n(a).start_at,"onUpdate:modelValue":l[4]||(l[4]=e=>n(a).start_at=e),type:"datetime-local",outlined:"",dense:"","stack-label":"",class:"my-input",label:"Start",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",X,[t(d,{modelValue:n(a).end_at,"onUpdate:modelValue":l[5]||(l[5]=e=>n(a).end_at=e),type:"datetime-local","stack-label":"",outlined:"",dense:"",class:"my-input",label:"End",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",Y,[t(I,{modelValue:n(a).active,"onUpdate:modelValue":l[6]||(l[6]=e=>n(a).active=e),label:"Active"},null,8,["modelValue"])]),o("div",Z,[t(T)]),o("div",h,[l[13]||(l[13]=o("div",{class:"text-grey-7"},"Click Add button to add paper",-1)),t(m,{onClick:l[7]||(l[7]=e=>b.value=!0),rounded:"",color:"primary",outline:"",label:"Add"})]),o("div",ee,[t(L,{flat:""},{default:s(()=>[t(Q,null,{default:s(()=>[t(c,{align:"left",style:{width:"30%"}},{default:s(()=>l[14]||(l[14]=[i("Subject")])),_:1}),t(c,{align:"center",style:{width:"20%"}},{default:s(()=>l[15]||(l[15]=[i("Date")])),_:1}),t(c,{align:"center",style:{width:"20%"}},{default:s(()=>l[16]||(l[16]=[i("Start")])),_:1}),t(c,{align:"center",style:{width:"20%"}},{default:s(()=>l[17]||(l[17]=[i("End")])),_:1}),t(c,{align:"center",style:{width:"10%"}},{default:s(()=>l[18]||(l[18]=[i("Action")])),_:1})]),_:1}),(_(!0),E(F,null,P(n(a).subjects,(e,p)=>(_(),j(Q,{key:p},{default:s(()=>[t(f,{align:"left"},{default:s(()=>[i(v(e==null?void 0:e.subject_name),1)]),_:2},1024),t(f,{align:"center"},{default:s(()=>[i(v(q(e==null?void 0:e.exam_date)),1)]),_:2},1024),t(f,{align:"center"},{default:s(()=>[i(v(y(e==null?void 0:e.start_time)),1)]),_:2},1024),t(f,{align:"center"},{default:s(()=>[i(v(y(e==null?void 0:e.end_time)),1)]),_:2},1024),t(f,{align:"center"},{default:s(()=>[t(m,{flat:"",icon:"cancel",onClick:x=>D(p)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",le,[t(m,{type:"reset",label:"Cancel",flat:""}),t(m,{class:"q-px-lg",type:"submit",label:"Save",rounded:"",color:"primary"})]),t(B,{modelValue:b.value,"onUpdate:modelValue":l[12]||(l[12]=e=>b.value=e)},{default:s(()=>[t($,{class:"q-pa-md"},{default:s(()=>[o("div",te,[l[19]||(l[19]=o("div",{class:"ztext-lg"},"New Subject",-1)),k(t(M,{name:"cancel",class:"cursor-pointer"},null,512),[[N]])]),l[20]||(l[20]=o("br",null,null,-1)),t(d,{modelValue:u.value.subject_name,"onUpdate:modelValue":l[8]||(l[8]=e=>u.value.subject_name=e),outlined:"",class:"my-input",rules:[e=>!!e||"Name is required"],label:"Paper Name"},null,8,["modelValue","rules"]),t(d,{modelValue:u.value.exam_date,"onUpdate:modelValue":l[9]||(l[9]=e=>u.value.exam_date=e),outlined:"",class:"my-input",rules:[e=>!!e||"Exam Date is required"],type:"date",label:"Date of Exam"},null,8,["modelValue","rules"]),t(d,{modelValue:u.value.start_time,"onUpdate:modelValue":l[10]||(l[10]=e=>u.value.start_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"Start time is required"],label:"Start At"},null,8,["modelValue","rules"]),t(d,{modelValue:u.value.end_time,"onUpdate:modelValue":l[11]||(l[11]=e=>u.value.end_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"End tim is required"],label:"End At"},null,8,["modelValue","rules"]),o("div",ae,[t(m,{type:"submit",style:{"min-width":"90px"},rounded:"",color:"primary",onClick:C,label:"Add"}),k(t(m,{rounded:"",color:"negative",outline:"",label:"Reset",onClick:V},null,512),[[N]])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onReset"])]),_:1}))}});export{fe as default};
