import{Q as et}from"./QImg-D6krmSuU.js";import{T as lt,r as v,o as d,c as r,b as t,t as l,a as G,g as o,e as w,F as k,p as Z,P as ot,n as st}from"./app-CuzPPIPR.js";import{A as it}from"./ApplicantLayout-D28_qz_y.js";import{u as at}from"./use-quasar-4-BcMn0G.js";import"./QLayout-UKjsXxgb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const dt={class:"p-4 bg-background rounded-lg shadow-md"},rt={class:"text-base"},ut={class:"text-base"},mt={class:"text-base"},ct={class:"text-base"},pt={class:"mt-6 flex justify-between w-full"},gt={class:"p-4"},bt={class:"p-4"},ft={key:0,class:"flex flex-col md:flex-row p-4 bg-background rounded-lg shadow-md"},yt={class:"w-full md:w-1/2 p-4 border-r border-border"},xt={class:"flex items-center mb-4"},vt={class:"text-md font-bold"},wt={class:"w-full md:w-1/2 p-4"},kt={class:"p-4 bg-background rounded-lg shadow-md"},Dt={class:"grid grid-cols-2 gap-4"},Pt={class:"col-xs-8 flex items-center text-grey-6"},Ct={class:"block text-sm font-medium text-bold"},St={class:"col-xs-4"},ht={class:"p-4 bg-background rounded-lg shadow-md"},Nt={class:"grid grid-cols-2 gap-4"},jt={class:"col-xs-8 flex items-center text-grey-6"},At={class:"block text-sm font-medium"},Lt={key:0,class:"text-xs text-gray-500 mt-1"},Tt={class:"col-xs-4"},Et=["id","onChange"],Ot={class:"mx-auto bg-white dark:bg-card shadow-lg rounded-lg p-6 flex flex-col items-center"},It={class:"mt-6 flex justify-between w-full"},Ut={class:"text-red-500"},Bt={class:"flex items-center justify-end flex-col"},Vt=["src"],Ft={class:"flex items-center gap-20 justify-center"},Ht=["disabled"],Jt=Object.assign({layout:it},{__name:"SubmitApplication",props:["jobDetail","mandatoryDocuments","applicant","application"],setup(e){const c=at(),x=e,g=lt({document_id:null,file:null}),D=v(!1);function _(s,n){g.document_id=n,g.file=s.target.files[0]}const tt=()=>{g.post(route("application.update",{jobDetail:x.jobDetail.id}),{onSuccess:()=>{g.reset()}})},p=v(!1),P=()=>{p.value=!p.value},C=s=>{const n=new Date(s),i={year:"numeric",month:"long",day:"numeric"};return n.toLocaleDateString("en-US",i)};v(C(new Date));const nt=()=>{c.dialog({title:"Confirmation",message:"Application is draft by default and you can pay later. Do you want to proceed with payment",ok:"Proceed",cancel:"Back"}).onOk(()=>{c.loading.show(),ot.post("/paytm/initiate",{job_ids:x.jobDetail.id,application_id:x.application.id}).then(s=>{const{token:n,order_id:i,amount:b}=s.data;var f={root:"",flow:"DEFAULT",data:{orderId:i,token:n,tokenType:"TXN_TOKEN",amount:b},handler:{notifyMerchant:function(u,m){console.log("notifyMerchant handler function called"),console.log("eventName => ",u),console.log("data => ",m)}}};window.Paytm&&window.Paytm.CheckoutJS?window.Paytm.CheckoutJS.init(f).then(function(){window.Paytm.CheckoutJS.invoke()}).catch(function(m){console.log("error => ",m)}):(console.log("Error Paytm"),c.notify({type:"warning",message:"Unable to load Checkout Page: Please Reload to try again"}))}).catch(s=>{var n,i;console.log(s),c.notify({type:"negative",message:((i=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:i.message)||s.toString()})}).finally(()=>{c.loading.hide()})})};return(s,n)=>{var i,b,f,u,m,S,h,N,j,A,L,T,E,O,I,U,B,V,F,H,M,q,Q,R,$,z,J,W,Y,K,X;return d(),r(k,null,[t("div",dt,[n[1]||(n[1]=t("h2",{class:"text-lg font-bold"},"Name of Post",-1)),t("p",rt,l(e.jobDetail.post_name),1),n[2]||(n[2]=t("h2",{class:"text-lg font-bold mt-4"},"Number of Post",-1)),t("p",ut,l(e.jobDetail.no_of_post),1),n[3]||(n[3]=t("h2",{class:"text-lg font-bold mt-4"},"Application Last Date",-1)),t("p",mt,l(e.jobDetail.application_deadline),1),n[4]||(n[4]=t("h2",{class:"text-lg font-bold mt-4"},"Application Fee",-1)),t("p",ct,l(e.jobDetail.application_fee),1),n[5]||(n[5]=t("h2",{class:"text-lg font-bold mt-4"},"Certification by Head of Department / Cadre Authority (PDF)",-1)),n[6]||(n[6]=t("a",{href:"#",class:"inline-block mt-2 bg-destructive text-destructive-foreground py-2 px-4 rounded-lg hover:bg-destructive/80"}," DOWNLOAD TEMPLATE ",-1))]),t("div",pt,[t("div",gt,[t("button",{onClick:P,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},l(p.value?"Hide Profile":"Show Profile"),1)]),t("div",bt,[t("button",{onClick:P,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},l(p.value?"Hide Payment":"Show Payment"),1)])]),p.value?(d(),r("div",ft,[t("div",yt,[t("div",xt,[G(et,{src:`/storage/${e.applicant.passport_photo}`,alt:"Passport Size Photo",class:"mr-4",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,["src"]),t("div",null,[t("h3",vt,l((i=e.applicant)==null?void 0:i.user.name),1),n[7]||(n[7]=t("p",{class:"text-muted-foreground"},"Name (As HSLC Cert. / Service Book)",-1))])]),t("p",null,[n[8]||(n[8]=t("strong",null,"Sex:",-1)),o(" "+l((b=e.applicant)==null?void 0:b.sex),1)]),t("p",null,[n[9]||(n[9]=t("strong",null,"Mobile No:",-1)),o(" "+l((f=e.applicant)==null?void 0:f.user.phone),1)]),t("p",null,[n[10]||(n[10]=t("strong",null,"Parent's Name:",-1)),o(" "+l((u=e.applicant)==null?void 0:u.parents_name),1)]),t("p",null,[n[11]||(n[11]=t("strong",null,"Date of Birth:",-1)),o(" "+l((m=e.applicant)==null?void 0:m.date_of_birth),1)]),t("p",null,[n[12]||(n[12]=t("strong",null,"Community:",-1)),o(" "+l((S=e.applicant)==null?void 0:S.community),1)]),t("p",null,[n[13]||(n[13]=t("strong",null,"Religion:",-1)),o(" "+l((h=e.applicant)==null?void 0:h.religion),1)]),t("p",null,[n[14]||(n[14]=t("strong",null,"Nationality:",-1)),o(" "+l((N=e.applicant)==null?void 0:N.nationality),1)]),t("p",null,[n[15]||(n[15]=t("strong",null,"Qualification:",-1)),o(l((j=e.applicant)==null?void 0:j.qualification)+", "+l((A=e.applicant)==null?void 0:A.graduateDegree),1)]),t("p",null,[n[16]||(n[16]=t("strong",null,"Working knowledge of Mizo Language:",-1)),o(" "+l((L=e.applicant)!=null&&L.mizo_proficiency?"YES":"NO"),1)]),t("p",null,[n[17]||(n[17]=t("strong",null,"Person with Disability:",-1)),o(" "+l((T=e.applicant)!=null&&T.disability?"YES":"NO"),1)]),t("p",null,[n[18]||(n[18]=t("strong",null,"Person with Disability Detail:",-1)),o(l((E=e.applicant)==null?void 0:E.disability_type),1)])]),t("div",wt,[n[35]||(n[35]=t("h2",{class:"text-lg font-semibold"},"Permanent Address",-1)),t("p",null,[n[19]||(n[19]=t("strong",null,"House No:",-1)),o(l((O=e.applicant)==null?void 0:O.user.address.permanent_house_no),1)]),t("p",null,[n[20]||(n[20]=t("strong",null,"Street:",-1)),o(" "+l((I=e.applicant)==null?void 0:I.user.address.permanent_street),1)]),t("p",null,[n[21]||(n[21]=t("strong",null,"Locality (Veng):",-1)),o(" "+l((U=e.applicant)==null?void 0:U.user.address.permanent_locality),1)]),t("p",null,[n[22]||(n[22]=t("strong",null,"Landmark:",-1)),o(" "+l((B=e.applicant)==null?void 0:B.user.address.permanent_landmark),1)]),t("p",null,[n[23]||(n[23]=t("strong",null,"Town / City:",-1)),o(" "+l((V=e.applicant)==null?void 0:V.user.address.permanent_city),1)]),t("p",null,[n[24]||(n[24]=t("strong",null,"District:",-1)),o(" "+l((F=e.applicant)==null?void 0:F.user.address.permanent_district),1)]),t("p",null,[n[25]||(n[25]=t("strong",null,"State / UT:",-1)),o(" "+l((H=e.applicant)==null?void 0:H.user.address.permanent_state),1)]),t("p",null,[n[26]||(n[26]=t("strong",null,"PIN:",-1)),o(" "+l((M=e.applicant)==null?void 0:M.user.address.permanent_pin_code),1)]),n[36]||(n[36]=t("h2",{class:"text-lg font-semibold mt-4"},"Communication Address",-1)),t("p",null,[n[27]||(n[27]=t("strong",null,"House No:",-1)),o(" "+l((q=e.applicant)==null?void 0:q.user.address.communication_house_no),1)]),t("p",null,[n[28]||(n[28]=t("strong",null,"Street:",-1)),o(" "+l((Q=e.applicant)==null?void 0:Q.user.address.communication_street),1)]),t("p",null,[n[29]||(n[29]=t("strong",null,"Locality (Veng):",-1)),o(" "+l((R=e.applicant)==null?void 0:R.user.address.communication_locality),1)]),t("p",null,[n[30]||(n[30]=t("strong",null,"Landmark:",-1)),o(" "+l(($=e.applicant)==null?void 0:$.user.address.communication_landmark),1)]),t("p",null,[n[31]||(n[31]=t("strong",null,"Town / City:",-1)),o(" "+l((z=e.applicant)==null?void 0:z.user.address.communication_city),1)]),t("p",null,[n[32]||(n[32]=t("strong",null,"District:",-1)),o(" "+l((J=e.applicant)==null?void 0:J.user.address.communication_district),1)]),t("p",null,[n[33]||(n[33]=t("strong",null,"State / UT:",-1)),o(l((W=e.applicant)==null?void 0:W.user.address.communication_state),1)]),t("p",null,[n[34]||(n[34]=t("strong",null,"PIN:",-1)),o(" "+l((Y=e.applicant)==null?void 0:Y.user.address.communication_pin_code),1)])])])):w("",!0),t("div",kt,[n[37]||(n[37]=t("h2",{class:"text-lg font-bold mb-3"},"Required Documents",-1)),t("div",Dt,[(d(!0),r(k,null,Z(e.mandatoryDocuments,a=>(d(),r("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[t("div",Pt,[t("label",Ct,l(a.document_name),1)]),t("div",St,[G(st,{label:(s.$q.screen.lt.sm,"OPEN"),color:"primary",flat:""},null,8,["label"])])]))),128))])]),t("div",ht,[n[38]||(n[38]=t("h2",{class:"text-lg font-bold mb-3"},"Required Documents",-1)),t("div",Nt,[(d(!0),r(k,null,Z(e.mandatoryDocuments,a=>(d(),r("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[t("div",jt,[t("label",At,l(a.document_name),1),a.file_path?(d(),r("p",Lt,"Uploaded")):w("",!0)]),t("div",Tt,[t("input",{type:"file",id:"file-"+a.id,onChange:y=>_(y,a.id),class:"text-sm mt-2"},null,40,Et)])]))),128))])]),t("div",Ot,[n[41]||(n[41]=t("h2",{class:"text-red-500 text-2xl font-bold text-center tracking-widest"},"D E C L A R A T I O N",-1)),n[42]||(n[42]=t("p",{class:"text-red-500 mt-4"}," I hereby declare that all the statements made in this application are true and complete to the best of my knowledge and belief. I understand that action can be taken against me by the Commission, if I am declared by them to be guilty of any type of misconduct mentioned herein. ",-1)),t("div",It,[t("div",null,[n[39]||(n[39]=t("span",{class:"text-red-500 font-semibold"},"Date :",-1)),t("span",Ut,l(C(e.application.created_at)),1)]),t("div",Bt,[(K=e.applicant)!=null&&K.signature_photo?(d(),r("img",{key:0,alt:"Signature of the Candidate",src:`/storage/${(X=e.applicant)==null?void 0:X.signature_photo}`,class:"border border-zinc-300 rounded w-40 h-40 object-contain"},null,8,Vt)):w("",!0),n[40]||(n[40]=t("p",{class:"text-red-500 text-center mt-2"},"Signature of the Candidate",-1))])])]),t("div",Ft,[t("button",{onClick:n[0]||(n[0]=a=>{var y;return s.$inertia.delete(s.route("application.delete_draft",(y=e.jobDetail)==null?void 0:y.id))}),clickable:"",class:"bg-accent text-accent-foreground px-4 py-2 rounded-md hover:bg-accent/80"},"Delete Draft"),t("button",{onClick:tt,class:"bg-accent text-accent-foreground px-4 py-2 rounded-md hover:bg-accent/80"},"Update"),t("button",{class:"bg-accent text-accent-foreground px-4 py-2 rounded-md hover:bg-accent/80",disabled:D.value,onClick:nt},l(D.value?"Submitting...":"Make Payment"),9,Ht)])],64)}}});export{Jt as default};
