import{Q as _}from"./QChip-BeORK5us.js";import{j as A,o as d,c as n,a as r,u as k,w as s,F as f,Z as h,b as l,p as Q,d as g,q as D,g as v,t as i,e as q,s as L}from"./app-yLfxo2qX.js";import{Q as B,a as u,b as N,c as V}from"./QLayout-BLycbU8n.js";import{Q as z}from"./QPage-ljL6P33v.js";import{A as I}from"./ApplicantLayout-dpwHCXIn.js";import{u as P}from"./use-quasar-Cd8cbbnf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"row q-gutter-md"},F={key:0,class:"col-12 zcard q-pa-md"},M={key:1,class:"col-12 zcard q-pa-md"},O={class:"flex items-center"},G=Object.assign({layout:I},{__name:"AdmitCard",props:["jobs"],setup(w){const b=P(),y=w,m=A(()=>y.jobs.filter(a=>{var e,t;return((e=a==null?void 0:a.settings)==null?void 0:e.from_admit_card)&&((t=a==null?void 0:a.settings)==null?void 0:t.to_admit_card)})),C=a=>{if(!a||!a.from_admit_card||!a.to_admit_card)return!1;const e=new Date,t=new Date(a.from_admit_card),o=new Date(a.to_admit_card);return e>=t&&e<=o},x=a=>{const e=route("admit-card-job",a);L.get(e,{responseType:"blob"}).then(t=>{const o=new Blob([t.data],{type:"application/pdf"}),p=window.URL.createObjectURL(o);let c=document.createElement("a");c.href=p,c.target="_blank",c.click()}).catch(t=>{b.notify({type:"negative",message:"Cannot Download Admit Card"})})};return(a,e)=>(d(),n(f,null,[r(k(h),{title:"Admit Card"}),r(z,{padding:""},{default:s(()=>[e[2]||(e[2]=l("p",{class:"page-title"},"Admit Card",-1)),l("div",E,[m.value.length===0?(d(),n("div",F,e[0]||(e[0]=[l("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M9 4a3 3 0 016 0v9a3 3 0 11-6 0V4zM5 6a3 3 0 016 0v7a3 3 0 11-6 0V6z","clip-rule":"evenodd"})],-1),l("p",{class:"text-gray-600 text-lg text-center"},"Admit card not available yet",-1)]))):(d(),n("div",M,[r(B,null,{default:s(()=>[(d(!0),n(f,null,Q(m.value,(t,o)=>(d(),g(V,{class:"zcard q-mt-sm",key:o},{default:s(()=>[r(u,{avatar:""},{default:s(()=>[r(D,{square:""},{default:s(()=>[r(_,{square:"",label:o+1},null,8,["label"])]),_:2},1024)]),_:2},1024),r(u,null,{default:s(()=>[r(N,null,{default:s(()=>[v(" Post Name: "+i((t==null?void 0:t.post_name)||"N/A")+" ",1),e[1]||(e[1]=l("br",null,null,-1)),v(" Published Date: "+i(t.settings.from_admit_card)+" - Last Date: "+i(t.settings.to_admit_card),1)]),_:2},1024)]),_:2},1024),r(u,{side:""},{default:s(()=>[l("div",O,[C(t==null?void 0:t.settings)?(d(),g(_,{key:0,clickable:"",onClick:p=>x(t),"text-color":"white",square:"",color:"primary",label:"Download Admit Card"},null,8,["onClick"])):q("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))])]),_:1})],64))}});export{G as default};
