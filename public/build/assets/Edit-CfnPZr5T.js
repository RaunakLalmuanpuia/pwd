import{Q as _e}from"./QSpace-B9bq5LZ2.js";import{Q as se,a as ce}from"./QBreadcrumbs-DF8arTbx.js";import{U as fe,T as ye,r as be,o as p,j as ve,e as u,b as s,d as t,Q as n,u as o,h as g,a as te,l as Ve,O as _,P as ae,bn as xe,i as m,F as we,M as Se,K as ie,_ as qe}from"./app-CBxBqPrd.js";import{Q as ne}from"./QSelect-BTg3Lz1e.js";import{Q as Ue}from"./QForm-DINbevMv.js";import{Q as Be}from"./QPage-DL2ugT8Z.js";import{A as Oe}from"./Admin-B0jRLtRZ.js";import"./QChip-B_4bSyla.js";import"./QLayout-CSUJ40El.js";import"./QMenu-D6F7Abx1.js";import"./rtl-DFPa-2ov.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Pe={class:"flex flex-inline items-center"},Qe={class:"row q-col-gutter-sm"},De={class:"col-xs-12"},$e={class:"col-xs-12"},Ce={class:"col-xs-12"},Ae={class:"col-xs-12"},Ne={class:"col-xs-12"},ke={class:"col-xs-12"},Fe={class:"col-xs-12"},je={class:"col-xs-12"},Le={class:"col-xs-12"},Ee={class:"col-xs-12"},Re={class:"col-xs-12"},Ge={class:"col-xs-12"},Me={class:"col-xs-12"},Te={class:"col-xs-12"},Je=["onUpdate:modelValue"],ze=["onUpdate:modelValue"],He=["onUpdate:modelValue"],Ie={class:"col-xs-12"},Ke={class:"col-xs-12"},We={class:"col-xs-12"},Xe={class:"col-xs-12"},dr=Object.assign({layout:Oe},{__name:"Edit",props:{data:Object},setup(de){var c,f,y,b,v,V,x,w,S,q,U,B,O,P,Q,D;const a=de;fe({submitting:!1});const r=ye({post_name:(c=a.data)==null?void 0:c.post_name,code:(f=a.data)==null?void 0:f.code,category:(y=a.data)==null?void 0:y.category,department_id:(b=a.data)==null?void 0:b.department_id,no_of_post:(v=a.data)==null?void 0:v.no_of_post,salary:(V=a.data)==null?void 0:V.salary,upper_age_limit:(x=a.data)==null?void 0:x.upper_age_limit,lower_age_limit:(w=a.data)==null?void 0:w.lower_age_limit,age_relaxation:(S=a.data)==null?void 0:S.age_relaxation,application_fee_general:(q=a.data)==null?void 0:q.application_fee_general,application_fee_other:(U=a.data)==null?void 0:U.application_fee_other,qualification:(B=a.data)==null?void 0:B.qualification,application_deadline:(O=a.data)==null?void 0:O.application_deadline,active:(P=a.data)==null?void 0:P.active,description:(Q=a.data)==null?void 0:Q.description,documents:((D=a.data)==null?void 0:D.documents.map(i=>({id:i.id,job_detail_id:i.job_detail_id,name:i.document_name,description:i.document_description,is_mandatory:i.is_mandatory})))||[]});console.log(r.documents);const ue=be({}),me=()=>{r.documents.push({name:"",description:"",is_mandatory:1})},pe=i=>{r.documents.splice(i,1)},ge=()=>{r.put(route("job.update",a.data.id),{onError:i=>{ue.value=i}})};return(i,l)=>(p(),ve(Be,{padding:""},{default:u(()=>[s("div",Pe,[l[28]||(l[28]=s("p",{class:"page-title"},"Edit Job profile",-1)),t(_e),t(ce,{align:"right",gutter:"xs"},{default:u(()=>[t(se,{to:{name:"job-profile:read"},label:"Jobs"}),t(se,{label:"Edit "})]),_:1})]),t(Ue,{class:"zcard q-pa-md",onReset:i.resetForm,onSubmit:ge},{default:u(()=>{var $,C,A,N,k,F,j,L,E,R,G,M,T,J,z,H,I,K,W,X,Y,Z,h,ee,re,oe;return[s("div",Qe,[l[32]||(l[32]=s("div",{class:"col-xs-12 primary-title q-my-md"},"Job profile",-1)),s("div",De,[t(n,{modelValue:o(r).code,"onUpdate:modelValue":l[0]||(l[0]=e=>o(r).code=e),class:"my-input",dense:"",label:"Code",outlined:"",error:o(r).errors.hasOwnProperty("code"),"error-message":(C=($=o(r).errors)==null?void 0:$.code)==null?void 0:C.toString(),onBlur:l[1]||(l[1]=e=>delete o(r).errors.code),rules:[e=>!!e||"Code is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",$e,[t(n,{modelValue:o(r).post_name,"onUpdate:modelValue":l[2]||(l[2]=e=>o(r).post_name=e),class:"my-input",dense:"",label:"Name",outlined:"",error:o(r).errors.hasOwnProperty("post_name"),"error-message":(N=(A=o(r).errors)==null?void 0:A.post_name)==null?void 0:N.toString(),onBlur:l[3]||(l[3]=e=>delete o(r).errors.post_name),rules:[e=>!!e||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ce,[t(ne,{modelValue:o(r).category,"onUpdate:modelValue":l[4]||(l[4]=e=>o(r).category=e),class:"my-input",options:["A","B","C","D"],dense:"",label:"Group",outlined:"",error:o(r).errors.hasOwnProperty("category"),"error-message":(F=(k=o(r).errors)==null?void 0:k.category)==null?void 0:F.toString(),onBlur:l[5]||(l[5]=e=>delete o(r).errors.category),rules:[e=>!!e||"Group is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ae,[t(n,{modelValue:o(r).description,"onUpdate:modelValue":l[6]||(l[6]=e=>o(r).description=e),class:"my-input",dense:"",label:"Description",outlined:"",error:o(r).errors.hasOwnProperty("description"),"error-message":(L=(j=o(r).errors)==null?void 0:j.description)==null?void 0:L.toString(),onBlur:l[7]||(l[7]=e=>delete o(r).errors.description),rules:[e=>!!e||"Description is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ne,[t(n,{modelValue:o(r).salary,"onUpdate:modelValue":l[8]||(l[8]=e=>o(r).salary=e),class:"my-input",dense:"",label:"Salary",outlined:"",error:o(r).errors.hasOwnProperty("salary"),"error-message":(R=(E=o(r).errors)==null?void 0:E.salary)==null?void 0:R.toString(),onBlur:l[9]||(l[9]=e=>delete o(r).errors.salary),rules:[e=>!!e||"Salary is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",ke,[t(n,{modelValue:o(r).no_of_post,"onUpdate:modelValue":l[10]||(l[10]=e=>o(r).no_of_post=e),class:"my-input",dense:"",label:"POST",outlined:"",error:o(r).errors.hasOwnProperty("no_of_post"),"error-message":(M=(G=o(r).errors)==null?void 0:G.no_of_post)==null?void 0:M.toString(),onBlur:l[11]||(l[11]=e=>delete o(r).errors.no_of_post),rules:[e=>Number(e)||"Post must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Fe,[t(n,{modelValue:o(r).application_deadline,"onUpdate:modelValue":l[12]||(l[12]=e=>o(r).application_deadline=e),class:"my-input",dense:"",type:"date",label:"Application Deadline",outlined:"",error:o(r).errors.hasOwnProperty("application_deadline"),"error-message":(J=(T=o(r).errors)==null?void 0:T.application_deadline)==null?void 0:J.toString(),onBlur:l[13]||(l[13]=e=>delete o(r).errors.application_deadline),rules:[e=>!!e||"Deadline is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",je,[t(n,{modelValue:o(r).upper_age_limit,"onUpdate:modelValue":l[14]||(l[14]=e=>o(r).upper_age_limit=e),class:"my-input",dense:"",label:"Upper Age Limit",outlined:"",error:o(r).errors.hasOwnProperty("upper_age_limit"),"error-message":(H=(z=o(r).errors)==null?void 0:z.upper_age_limit)==null?void 0:H.toString(),onBlur:l[15]||(l[15]=e=>delete o(r).errors.upper_age_limit),rules:[e=>Number(e)||"Age must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Le,[t(n,{modelValue:o(r).lower_age_limit,"onUpdate:modelValue":l[16]||(l[16]=e=>o(r).lower_age_limit=e),class:"my-input",dense:"",label:"Lower Age Limit",outlined:"",error:o(r).errors.hasOwnProperty("lower_age_limit"),"error-message":(K=(I=o(r).errors)==null?void 0:I.lower_age_limit)==null?void 0:K.toString(),onBlur:l[17]||(l[17]=e=>delete o(r).errors.lower_age_limit),rules:[e=>Number(e)||"Age must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ee,[t(n,{modelValue:o(r).age_relaxation,"onUpdate:modelValue":l[18]||(l[18]=e=>o(r).age_relaxation=e),class:"my-input",dense:"",label:"Age Relaxation",outlined:"",error:o(r).errors.hasOwnProperty("age_relaxation"),"error-message":(X=(W=o(r).errors)==null?void 0:W.age_relaxation)==null?void 0:X.toString(),onBlur:l[19]||(l[19]=e=>delete o(r).errors.age_relaxation),rules:[e=>Number(e)||"Age must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Re,[t(n,{modelValue:o(r).application_fee_other,"onUpdate:modelValue":l[20]||(l[20]=e=>o(r).application_fee_other=e),class:"my-input",dense:"",label:"Fee for SC/ST/OBC",outlined:"",error:o(r).errors.hasOwnProperty("application_fee_other"),"error-message":(Z=(Y=o(r).errors)==null?void 0:Y.application_fee_other)==null?void 0:Z.toString(),onBlur:l[21]||(l[21]=e=>delete o(r).errors.application_fee_other),rules:[e=>Number(e)||"Fee must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ge,[t(n,{modelValue:o(r).application_fee_general,"onUpdate:modelValue":l[22]||(l[22]=e=>o(r).application_fee_general=e),class:"my-input",dense:"",label:"Fee for General",outlined:"",error:o(r).errors.hasOwnProperty("application_fee_general"),"error-message":(ee=(h=o(r).errors)==null?void 0:h.application_fee_general)==null?void 0:ee.toString(),onBlur:l[23]||(l[23]=e=>delete o(r).errors.application_fee_general),rules:[e=>Number(e)||"Fee must be number"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Me,[t(ne,{modelValue:o(r).qualification,"onUpdate:modelValue":l[24]||(l[24]=e=>o(r).qualification=e),class:"my-input",options:["HSLC","HSSLC","Graduate","Post Graduate","PhD"],dense:"",label:"Minimum Qualification",outlined:"",error:o(r).errors.hasOwnProperty("qualification"),"error-message":(oe=(re=o(r).errors)==null?void 0:re.qualification)==null?void 0:oe.toString(),onBlur:l[25]||(l[25]=e=>delete o(r).errors.qualification),rules:[e=>!!e||"Please select Qualification"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Te,[t(g,{class:"q-my-md"})]),s("div",null,[l[30]||(l[30]=s("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Required Documents",-1)),(p(!0),te(we,null,Ve(o(r).documents,(e,le)=>(p(),te("div",{key:le,class:"flex space-x-4 items-center mb-3"},[_(s("input",{type:"text","onUpdate:modelValue":d=>e.name=d,placeholder:"Document Name",class:"flex-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,8,Je),[[ae,e.name]]),_(s("input",{type:"text","onUpdate:modelValue":d=>e.description=d,placeholder:"Document Description",class:"flex-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:""},null,8,ze),[[ae,e.description]]),_(s("select",{"onUpdate:modelValue":d=>e.is_mandatory=d,class:"block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},l[29]||(l[29]=[s("option",{value:"1"},"Mandatory",-1),s("option",{value:"0"},"Optional",-1)]),8,He),[[xe,e.is_mandatory]]),t(m,{round:"",color:"red",style:{"font-size":"12px"},onClick:d=>pe(le),icon:"delete"},null,8,["onClick"])]))),128))]),s("div",Ie,[t(m,{outline:"",color:"primary",onClick:me},{default:u(()=>l[31]||(l[31]=[Se(" Add Document ")])),_:1})]),s("div",Ke,[t(g,{class:"q-my-md"})]),s("div",We,[t(ie,{modelValue:o(r).active,"onUpdate:modelValue":l[26]||(l[26]=e=>o(r).active=e),val:1,label:"Open"},null,8,["modelValue"]),t(ie,{modelValue:o(r).active,"onUpdate:modelValue":l[27]||(l[27]=e=>o(r).active=e),val:0,label:"Closed"},null,8,["modelValue"])])]),s("div",Xe,[t(g,{class:"q-my-md"})]),t(qe,{class:"q-mt-md"},{default:u(()=>[t(m,{color:"primary",flat:"",type:"submit",label:"Save"}),t(m,{color:"negative",flat:"",type:"reset",label:"Reset"})]),_:1})]}),_:1},8,["onReset"])]),_:1}))}});export{dr as default};
