import{Q as rt}from"./QImg-DhNiTgRs.js";import{T as ut,r as _,o as s,c as d,a as y,u as m,w as ct,F as D,Z as mt,b as e,t as o,e as p,g as l,p as tt,n as et,d as pt,P as nt,V as gt,s as ft}from"./app-j_H5z9J3.js";import{Q as bt}from"./QPage-Cs1zR-y0.js";import{A as yt}from"./ApplicantLayout-BNqTsz2I.js";import{u as xt}from"./use-quasar-BhHLujcL.js";import"./QLayout-CobrgAT6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const vt={class:"p-4 bg-background rounded-lg shadow-md"},wt={class:"text-base"},kt={class:"text-base"},ht={class:"text-base"},Dt={class:"text-base"},Ct={class:"mt-6 flex justify-between w-full"},Pt={key:0,class:"p-4"},Nt={key:0,class:"flex flex-col md:flex-row p-4 bg-background rounded-lg shadow-md"},St={class:"w-full md:w-1/2 p-4 border-r border-border"},At={class:"flex items-center mb-4"},jt={class:"text-md font-bold"},Ot={class:"w-full md:w-1/2 p-4"},Tt={key:1,class:"p-4 bg-background rounded-lg shadow-md"},Et={class:"grid grid-cols-2 gap-4"},zt={class:"col-xs-8 flex items-center text-grey-6"},Lt={class:"block text-sm font-medium"},Vt={class:"col-xs-4"},It=["id","onChange"],Bt={key:2,class:"p-4 bg-background rounded-lg shadow-md"},Ut={class:"grid grid-cols-2 gap-4"},Ft={class:"col-xs-8 flex items-center text-grey-6"},Mt={class:"block text-sm font-medium"},Qt={class:"col-xs-4"},$t=["id","onChange"],qt={class:"p-4 bg-background rounded-lg shadow-md col-xs-12 col-sm-12"},Ht={class:"flex justify-between items-center"},Rt={class:"flex q-gutter-md"},Jt={key:0,class:"input-error"},Yt={class:"mx-auto bg-white dark:bg-card shadow-lg rounded-lg p-6 flex flex-col items-center mt-2"},Wt={class:"mt-6 flex justify-between w-full"},Zt={class:"text-red-500"},Gt={class:"flex items-center justify-end flex-col"},Kt=["src"],Xt={class:"flex items-center gap-8 justify-center mt-4"},_t=["disabled"],te=["disabled"],ee=["disabled"],re=Object.assign({layout:yt},{__name:"SubmitApplication",props:["jobDetail","mandatoryDocuments","applicant","application","optionalDocuments"],setup(n){var N;const c=xt(),g=n,r=ut({document_id:null,file:null,application_id:g.application.id,mizo_proficiency:(N=g.application)!=null&&N.mizo_proficiency?parseInt(g.application.mizo_proficiency):null}),v=_(!1);function C(i,t){r.document_id=t,r.file=i.target.files[0]}const ot=()=>{c.dialog({title:"Confirmation",message:"Do you want to update the Application?",ok:"Proceed",cancel:"Back"}).onOk(()=>{r.post(route("application.update",{jobDetail:g.jobDetail.id}),{onSuccess:()=>{r.reset(),c.notify({type:"info",color:"primary",message:"Application Updated Successfully."})}})})},w=_(!1),lt=()=>{w.value=!w.value},it=i=>{const t=new Date(i),u={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("en-IN",u)},at=i=>{c.dialog({title:"Confirmation",message:"Do you want to delete the Application?",ok:"Proceed",cancel:"Back"}).onOk(()=>{gt.delete(route("application.delete_draft",i))})},st=i=>{if(!i)return"";const t={day:"2-digit",month:"2-digit",year:"numeric"};return new Intl.DateTimeFormat("en-IN",t).format(new Date(i))},P=i=>{let t=document.createElement("a");t.target="_blank",t.href=`/storage/${i==null?void 0:i.document_path}`,t.click()},dt=()=>{c.dialog({title:"Confirmation",message:"Application is draft by default and you can pay later. Do you want to proceed with payment",ok:"Proceed",cancel:"Back"}).onOk(()=>{c.loading.show(),ft.post("/paytm/initiate",{job_ids:g.jobDetail.id,application_id:g.application.id}).then(i=>{const{token:t,order_id:u,amount:k}=i.data;var h={root:"",flow:"DEFAULT",data:{orderId:u,token:t,tokenType:"TXN_TOKEN",amount:k},handler:{notifyMerchant:function(f,b){console.log("notifyMerchant handler function called"),console.log("eventName => ",f),console.log("data => ",b)}}};window.Paytm&&window.Paytm.CheckoutJS?window.Paytm.CheckoutJS.init(h).then(function(){window.Paytm.CheckoutJS.invoke()}).catch(function(b){console.log("error => ",b)}):(console.log("Error Paytm"),c.notify({type:"warning",message:"Unable to load Checkout Page: Please Reload to try again"}))}).catch(i=>{var t,u;console.log(i),c.notify({type:"negative",message:((u=(t=i==null?void 0:i.response)==null?void 0:t.data)==null?void 0:u.message)||i.toString()})}).finally(()=>{c.loading.hide()})})};return(i,t)=>(s(),d(D,null,[y(m(mt),{title:"Draft Application"}),y(bt,{padding:""},{default:ct(()=>{var u,k,h,f,b,S,A,j,O,T,E,z,L,V,I,B,U,F,M,Q,$,q,H,R,J,Y,W,Z,G,K,X;return[e("div",vt,[t[3]||(t[3]=e("h2",{class:"text-lg font-bold"},"Name of Post",-1)),e("p",wt,o(n.jobDetail.post_name),1),t[4]||(t[4]=e("h2",{class:"text-lg font-bold mt-4"},"Number of Post",-1)),e("p",kt,o(n.jobDetail.no_of_post),1),t[5]||(t[5]=e("h2",{class:"text-lg font-bold mt-4"},"Application Last Date",-1)),e("p",ht,o(st(n.jobDetail.application_deadline)),1),t[6]||(t[6]=e("h2",{class:"text-lg font-bold mt-4"},"Application Fee ",-1)),e("p",Dt,"General -"+o(n.jobDetail.application_fee_general)+". SC\\ST\\Others- "+o(n.jobDetail.application_fee_other),1),t[7]||(t[7]=e("h2",{class:"text-lg font-bold mt-4"},"Certification by Head of Department / Cadre Authority (PDF)",-1)),t[8]||(t[8]=e("a",{href:"#",class:"inline-block mt-2 bg-destructive text-destructive-foreground py-2 px-4 rounded-lg hover:bg-destructive/80"}," DOWNLOAD TEMPLATE ",-1))]),e("div",Ct,[n.applicant?(s(),d("div",Pt,[e("button",{onClick:lt,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},o(w.value?"Hide Profile":"Show Profile"),1)])):p("",!0)]),w.value?(s(),d("div",Nt,[e("div",St,[e("div",At,[y(rt,{src:`/storage/${n.applicant.passport_photo}`,alt:"Passport Size Photo",class:"mr-4",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,["src"]),e("div",null,[e("h3",jt,o((u=n.applicant)==null?void 0:u.user.name),1),t[9]||(t[9]=e("p",{class:"text-muted-foreground"},"Name (As HSLC Cert. / Service Book)",-1))])]),e("p",null,[t[10]||(t[10]=e("strong",null,"Sex:",-1)),l(" "+o((k=n.applicant)==null?void 0:k.sex),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"Mobile No:",-1)),l(" "+o((h=n.applicant)==null?void 0:h.user.phone),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Parent's Name:",-1)),l(" "+o((f=n.applicant)==null?void 0:f.parents_name),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Date of Birth:",-1)),l(" "+o((b=n.applicant)==null?void 0:b.date_of_birth),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Community:",-1)),l(" "+o((S=n.applicant)==null?void 0:S.community),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"Religion:",-1)),l(" "+o((A=n.applicant)==null?void 0:A.religion),1)]),e("p",null,[t[16]||(t[16]=e("strong",null,"Nationality:",-1)),l(" "+o((j=n.applicant)==null?void 0:j.nationality),1)]),e("p",null,[t[17]||(t[17]=e("strong",null,"Qualification:",-1)),l(o((O=n.applicant)==null?void 0:O.qualification)+", "+o((T=n.applicant)==null?void 0:T.graduateDegree),1)]),e("p",null,[t[18]||(t[18]=e("strong",null,"Working knowledge of Mizo Language:",-1)),l(" "+o((E=n.applicant)!=null&&E.mizo_proficiency?"YES":"NO"),1)]),e("p",null,[t[19]||(t[19]=e("strong",null,"Person with Disability:",-1)),l(" "+o((z=n.applicant)!=null&&z.disability?"YES":"NO"),1)]),e("p",null,[t[20]||(t[20]=e("strong",null,"Person with Disability Detail:",-1)),l(o((L=n.applicant)==null?void 0:L.disability_type),1)])]),e("div",Ot,[t[37]||(t[37]=e("h2",{class:"text-lg font-semibold"},"Permanent Address",-1)),e("p",null,[t[21]||(t[21]=e("strong",null,"House No:",-1)),l(o((V=n.applicant)==null?void 0:V.user.address.permanent_house_no),1)]),e("p",null,[t[22]||(t[22]=e("strong",null,"Street:",-1)),l(" "+o((I=n.applicant)==null?void 0:I.user.address.permanent_street),1)]),e("p",null,[t[23]||(t[23]=e("strong",null,"Locality (Veng):",-1)),l(" "+o((B=n.applicant)==null?void 0:B.user.address.permanent_locality),1)]),e("p",null,[t[24]||(t[24]=e("strong",null,"Landmark:",-1)),l(" "+o((U=n.applicant)==null?void 0:U.user.address.permanent_landmark),1)]),e("p",null,[t[25]||(t[25]=e("strong",null,"Town / City:",-1)),l(" "+o((F=n.applicant)==null?void 0:F.user.address.permanent_city),1)]),e("p",null,[t[26]||(t[26]=e("strong",null,"District:",-1)),l(" "+o((M=n.applicant)==null?void 0:M.user.address.permanent_district),1)]),e("p",null,[t[27]||(t[27]=e("strong",null,"State / UT:",-1)),l(" "+o((Q=n.applicant)==null?void 0:Q.user.address.permanent_state),1)]),e("p",null,[t[28]||(t[28]=e("strong",null,"PIN:",-1)),l(" "+o(($=n.applicant)==null?void 0:$.user.address.permanent_pin_code),1)]),t[38]||(t[38]=e("h2",{class:"text-lg font-semibold mt-4"},"Communication Address",-1)),e("p",null,[t[29]||(t[29]=e("strong",null,"House No:",-1)),l(" "+o((q=n.applicant)==null?void 0:q.user.address.communication_house_no),1)]),e("p",null,[t[30]||(t[30]=e("strong",null,"Street:",-1)),l(" "+o((H=n.applicant)==null?void 0:H.user.address.communication_street),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"Locality (Veng):",-1)),l(" "+o((R=n.applicant)==null?void 0:R.user.address.communication_locality),1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"Landmark:",-1)),l(" "+o((J=n.applicant)==null?void 0:J.user.address.communication_landmark),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Town / City:",-1)),l(" "+o((Y=n.applicant)==null?void 0:Y.user.address.communication_city),1)]),e("p",null,[t[34]||(t[34]=e("strong",null,"District:",-1)),l(" "+o((W=n.applicant)==null?void 0:W.user.address.communication_district),1)]),e("p",null,[t[35]||(t[35]=e("strong",null,"State / UT:",-1)),l(o((Z=n.applicant)==null?void 0:Z.user.address.communication_state),1)]),e("p",null,[t[36]||(t[36]=e("strong",null,"PIN:",-1)),l(" "+o((G=n.applicant)==null?void 0:G.user.address.communication_pin_code),1)])])])):p("",!0),n.mandatoryDocuments.length!==0?(s(),d("div",Tt,[t[39]||(t[39]=e("h2",{class:"text-lg font-bold mb-3"},"Mandatory Documents",-1)),e("div",Et,[(s(!0),d(D,null,tt(n.mandatoryDocuments,a=>(s(),d("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[e("div",zt,[e("label",Lt,o(a.document_name),1),y(et,{label:(i.$q.screen.lt.sm,"OPEN"),color:"primary",flat:"",onClick:x=>P(a.document_attachments)},null,8,["label","onClick"])]),e("div",Vt,[e("input",{type:"file",id:"file-"+a.id,onChange:x=>C(x,a.id),class:"text-sm mt-2"},null,40,It)])]))),128))])])):p("",!0),n.optionalDocuments.length!==0?(s(),d("div",Bt,[t[40]||(t[40]=e("h2",{class:"text-lg font-bold mb-3"},"Optional Documents",-1)),e("div",Ut,[(s(!0),d(D,null,tt(n.optionalDocuments,a=>(s(),d("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[e("div",Ft,[e("label",Mt,o(a.document_name),1),a.document_attachments.document_path?(s(),pt(et,{key:0,label:(i.$q.screen.lt.sm,"OPEN"),color:"primary",flat:"",onClick:x=>P(a.document_attachments)},null,8,["label","onClick"])):p("",!0)]),e("div",Qt,[e("input",{type:"file",id:"file-"+a.id,onChange:x=>C(x,a.id),class:"text-sm mt-2"},null,40,$t)])]))),128))])])):p("",!0),e("div",qt,[e("div",Ht,[e("div",null," Did you study MIZO language in "+o(n.jobDetail.mizo_proficiency),1),e("div",Rt,[y(nt,{modelValue:m(r).mizo_proficiency,"onUpdate:modelValue":t[0]||(t[0]=a=>m(r).mizo_proficiency=a),dense:"",val:1,label:"Yes"},null,8,["modelValue"]),y(nt,{modelValue:m(r).mizo_proficiency,"onUpdate:modelValue":t[1]||(t[1]=a=>m(r).mizo_proficiency=a),dense:"",val:0,label:"No"},null,8,["modelValue"]),m(r).errors.mizo_proficiency?(s(),d("div",Jt,o(m(r).errors.mizo_proficiency),1)):p("",!0)])])]),e("div",Yt,[t[43]||(t[43]=e("h2",{class:"text-red-500 text-2xl font-bold text-center tracking-widest"},"D E C L A R A T I O N",-1)),t[44]||(t[44]=e("p",{class:"text-red-500 mt-4"}," I hereby declare that the information given above and in the enclosed documents is true to the best of my knowledge and belief and nothing has been concealed therein. I understand that if the information given by me is proved false / not true, I will have to face the punishment as per the law. Also, all the benefits availed by me shall be summarily withdrawn. ",-1)),e("div",Wt,[e("div",null,[t[41]||(t[41]=e("span",{class:"text-red-500 font-semibold"},"Date :",-1)),e("span",Zt,o(it(n.application.created_at)),1)]),e("div",Gt,[(K=n.applicant)!=null&&K.signature_photo?(s(),d("img",{key:0,alt:"Signature of the Candidate",src:`/storage/${(X=n.applicant)==null?void 0:X.signature_photo}`,class:"border border-zinc-300 rounded w-40 h-40 object-contain"},null,8,Kt)):p("",!0),t[42]||(t[42]=e("p",{class:"text-red-500 text-center mt-2"},"Signature of the Candidate",-1))])])]),e("div",Xt,[e("button",{onClick:t[2]||(t[2]=a=>at(n.jobDetail.id)),class:"bg-red-600 text-white px-6 py-3 rounded-md hover:bg-red-700 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:v.value}," Delete Draft ",8,_t),e("button",{onClick:ot,class:"bg-yellow-500 text-white px-6 py-3 rounded-md hover:bg-yellow-600 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-400 disabled:opacity-50",disabled:v.value}," Update ",8,te),e("button",{class:"bg-accent text-accent-foreground text-white px-6 py-3 rounded-md hover:bg-accent/80 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",disabled:v.value,onClick:dt},o(v.value?"Submitting...":"Make Payment"),9,ee)])]}),_:1})],64))}});export{re as default};
