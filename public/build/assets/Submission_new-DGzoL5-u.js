import{Q as _}from"./QChip-BfLW0p7T.js";import{o as r,c as b,b as i,a as e,w as a,F as D,p as Q,d as c,q,g as p,t as w,W as x,s as C}from"./app-CdMXUWxO.js";import{Q as g,a as d,b as f,c as m}from"./QLayout-DqCdtrDG.js";import{Q as A}from"./QBtnDropdown-Cvj2ylfd.js";import{C as k}from"./ClosePopup-KX-nxAt5.js";import{A as L}from"./Admin-BLHX9y9k.js";import{u as B}from"./use-quasar-DaR43wDy.js";import"./QMenu-mXXOZq2n.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"container mx-auto p-6"},F={class:"flex items-center"},z=Object.assign({layout:L},{__name:"Submission_new",props:["jobDetails"],setup(v){const u=B();function y(n){const o={timeZone:"Asia/Kolkata",weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-IN",o).format(new Date(n)).replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$1/$2/$3")}const h=n=>{u.loading.show();const o=route("export.job.submitted.details",n);C.get(o,{responseType:"blob"}).then(t=>{const l=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=l,s.setAttribute("download",Date.now()+".xlsx"),s.click()}).catch(t=>{var l,s;u.notify({type:"negative",message:((s=(l=t.response)==null?void 0:l.data)==null?void 0:s.message)||"Failed to download file"})}).finally(()=>{u.loading.hide()})};return(n,o)=>(r(),b("div",N,[i("div",$,[i("div",j,[i("div",I,[o[3]||(o[3]=i("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"New Job Applications List",-1)),e(g,null,{default:a(()=>[(r(!0),b(D,null,Q(v.jobDetails,(t,l)=>(r(),c(m,{class:"zcard q-mt-sm",key:l},{default:a(()=>[e(d,{avatar:""},{default:a(()=>[e(q,{square:""},{default:a(()=>[e(_,{square:"",label:l+1},null,8,["label"])]),_:2},1024)]),_:2},1024),e(d,null,{default:a(()=>[e(f,null,{default:a(()=>[p(w(t==null?void 0:t.post_name)+" Posted on: "+w(y(t==null?void 0:t.created_at)),1)]),_:2},1024)]),_:2},1024),e(d,{side:""},{default:a(()=>[i("div",F,[o[2]||(o[2]=i("div",{class:"text-caption"},"No of Applications",-1)),e(_,{"text-color":"white",square:"",color:"primary",label:t==null?void 0:t.applications_count},null,8,["label"]),e(A,{rounded:"",flat:"","dropdown-icon":"more_vert",class:"q-pa-sm"},{default:a(()=>[e(g,{class:"q-pa-sm"},{default:a(()=>[x((r(),c(m,{clickable:"",onClick:s=>n.$inertia.get(n.route("admin.applications.show_submission",t.id))},{default:a(()=>[e(d,null,{default:a(()=>[e(f,null,{default:a(()=>o[0]||(o[0]=[p("Detail of applications")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[k]]),x((r(),c(m,{clickable:"",onClick:s=>h(t.id)},{default:a(()=>[e(d,null,{default:a(()=>[e(f,null,{default:a(()=>o[1]||(o[1]=[p("Generate Excel")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[k]])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])])])]))}});export{z as default};
