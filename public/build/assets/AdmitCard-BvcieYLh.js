import{Q as _}from"./QChip-jc0pqKXe.js";import{j as k,o as d,c as n,a as r,u as x,w as s,F as f,Z as h,b as l,p as Q,d as g,q as D,g as v,t as i,e as q,s as L}from"./app-LtB7byt3.js";import{Q as B,a as u,b as N,c as V}from"./QLayout-DXeNrv8x.js";import{Q as z}from"./QPage-BveYALRB.js";import{A as I}from"./ApplicantLayout-Da3oIrGL.js";import{u as P}from"./use-quasar-Bdk1iD1w.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"row q-gutter-md"},F={key:0,class:"col-12 zcard q-pa-md"},M={key:1,class:"col-12 zcard q-pa-md"},O={class:"flex items-center"},G=Object.assign({layout:I},{__name:"AdmitCard",props:["jobs"],setup(w){const b=P(),y=w,m=k(()=>y.jobs.filter(t=>{var e,a;return((e=t==null?void 0:t.settings)==null?void 0:e.from_admit_card)&&((a=t==null?void 0:t.settings)==null?void 0:a.to_admit_card)})),C=t=>{if(!t||!t.from_admit_card||!t.to_admit_card)return!1;const e=new Date,a=new Date(t.from_admit_card),o=new Date(t.to_admit_card);return e>=a&&e<=o},A=t=>{const e=route("admit-card-job",t);L.get(e,{responseType:"blob"}).then(a=>{const o=new Blob([a.data],{type:"application/pdf"}),p=window.URL.createObjectURL(o);let c=document.createElement("a");c.href=p,c.target="_blank",c.click()}).catch(a=>{b.notify({type:"negative",message:"Cannot Download Admit Card"})})};return(t,e)=>(d(),n(f,null,[r(x(h),{title:"Admit Card"}),r(z,{padding:""},{default:s(()=>[e[2]||(e[2]=l("p",{class:"page-title"},"Admit Card",-1)),l("div",E,[m.value.length===0?(d(),n("div",F,e[0]||(e[0]=[l("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M9 4a3 3 0 016 0v9a3 3 0 11-6 0V4zM5 6a3 3 0 016 0v7a3 3 0 11-6 0V6z","clip-rule":"evenodd"})],-1),l("p",{class:"text-gray-600 text-lg"},"Admit card not available yet",-1)]))):(d(),n("div",M,[r(B,null,{default:s(()=>[(d(!0),n(f,null,Q(m.value,(a,o)=>(d(),g(V,{class:"zcard q-mt-sm",key:o},{default:s(()=>[r(u,{avatar:""},{default:s(()=>[r(D,{square:""},{default:s(()=>[r(_,{square:"",label:o+1},null,8,["label"])]),_:2},1024)]),_:2},1024),r(u,null,{default:s(()=>[r(N,null,{default:s(()=>[v(" Post Name: "+i((a==null?void 0:a.post_name)||"N/A")+" ",1),e[1]||(e[1]=l("br",null,null,-1)),v(" Published Date: "+i(a.settings.from_admit_card)+" - Last Date: "+i(a.settings.to_admit_card),1)]),_:2},1024)]),_:2},1024),r(u,{side:""},{default:s(()=>[l("div",O,[C(a==null?void 0:a.settings)?(d(),g(_,{key:0,clickable:"",onClick:p=>A(a),"text-color":"white",square:"",color:"primary",label:"Download Admit Card"},null,8,["onClick"])):q("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))])]),_:1})],64))}});export{G as default};
