import{Q as f}from"./QChip-UE6Nfzil.js";import{o as d,c as n,a as e,u as C,w as r,F as _,Z as A,b as l,p as k,d as b,q as x,g,t as i,e as h,s as Q}from"./app-D3lAG8hJ.js";import{Q as D,a as m,b as q,c as L}from"./QLayout-DXwAq9-3.js";import{Q as j}from"./QPage-Cx-Lq6Am.js";import{A as B}from"./ApplicantLayout-BixWkJGT.js";import{u as N}from"./use-quasar-zktq9uvy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"row q-gutter-md"},z={key:0,class:"col-12 zcard q-pa-md"},I={key:1,class:"col-12 zcard q-pa-md"},P={class:"flex items-center"},U=Object.assign({layout:B},{__name:"AdmitCard",props:["jobs"],setup(u){const w=N(),v=o=>{if(!o||!o.from_admit_card||!o.to_admit_card)return!1;const t=new Date,a=new Date(o.from_admit_card),s=new Date(o.to_admit_card);return t>=a&&t<=s},y=o=>{console.log();const t=route("admit-card-job",o);Q.get(t,{responseType:"blob"}).then(a=>{const s=new Blob([a.data],{type:"application/pdf"}),p=window.URL.createObjectURL(s);let c=document.createElement("a");c.href=p,c.target="_blank",c.click()}).catch(a=>{w.notify({type:"negative",message:"Cannot Download Admit Card"})})};return(o,t)=>(d(),n(_,null,[e(C(A),{title:"Admit Card"}),e(j,{padding:""},{default:r(()=>[t[2]||(t[2]=l("p",{class:"page-title"},"Admit Card",-1)),l("div",V,[u.jobs.length===0?(d(),n("div",z,t[0]||(t[0]=[l("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M9 4a3 3 0 016 0v9a3 3 0 11-6 0V4zM5 6a3 3 0 016 0v7a3 3 0 11-6 0V6z","clip-rule":"evenodd"})],-1),l("p",{class:"text-gray-600 text-lg"},"Admit card not available yet",-1)]))):(d(),n("div",I,[e(D,null,{default:r(()=>[(d(!0),n(_,null,k(u.jobs,(a,s)=>(d(),b(L,{class:"zcard q-mt-sm",key:s},{default:r(()=>[e(m,{avatar:""},{default:r(()=>[e(x,{square:""},{default:r(()=>[e(f,{square:"",label:s+1},null,8,["label"])]),_:2},1024)]),_:2},1024),e(m,null,{default:r(()=>[e(q,null,{default:r(()=>[g("Post Name: "+i((a==null?void 0:a.post_name)||"N/A")+" ",1),t[1]||(t[1]=l("br",null,null,-1)),g(" Published Date: "+i(a.settings.from_admit_card)+" - Last Date: "+i(a.settings.to_admit_card),1)]),_:2},1024)]),_:2},1024),e(m,{side:""},{default:r(()=>[l("div",P,[v(a.settings)?(d(),b(f,{key:0,clickable:"",onClick:p=>y(a),"text-color":"white",square:"",color:"primary",label:"Download Admit Card"},null,8,["onClick"])):h("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))])]),_:1})],64))}});export{U as default};
