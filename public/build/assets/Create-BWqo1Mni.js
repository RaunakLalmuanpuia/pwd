import{T as A,r as k,o as _,d as g,w as a,a as t,b as o,Q as d,u,l as I,m as P,n as m,g as r,c as T,p as E,t as b,F,q as B,_ as M,R as j,O as $}from"./app-E6ognuAK.js";import{Q as R,a as Q,b as p,c}from"./QMarkupTable-lxcMcoiz.js";import{Q as L}from"./QForm-BXsPBvtM.js";import{Q as O}from"./QPage-BZ14hUW4.js";import{C as w}from"./ClosePopup-Bc_IkB0O.js";import{A as z}from"./Admin-BgVQiMpM.js";import"./QLayout-BB2XopTk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"col-xs-12 col-sm-12"},G={class:"col-xs-12 col-sm-12 q-mb-md"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12 col-sm-6"},W={class:"col-xs-12 col-sm-6"},X={class:"col-xs-12 col-sm-6"},Y={class:"col-xs-12 col-sm-6"},Z={class:"col-xs-12"},h={class:"col-xs-12 flex justify-between items-center"},ee={class:"col-xs-12"},le={class:"col-xs-12 flex justify-center items-center q-gutter-sm"},te={class:"flex justify-between items-center"},ae={class:"flex q-gutter-sm"},fe=Object.assign({layout:z},{__name:"Create",props:{job:Object},setup(N){const S=N,s=A({exam_name:"",exam_date:"",description:"",start_at:"",end_at:"",pass_mark:"",full_mark:"",active:!1,subjects:[]}),v=k(!1),n=k({subject_name:"",exam_date:"",full_mark:"",start_time:"",end_time:""}),V=()=>{n.value={name:"",exam_date:"",full_mark:"",start_at:"",end_at:""},v.value=!1};function y(i){if(!i)return"";const[l,e]=i.split(":"),f=parseInt(l,10),x=f>=12;return`${f%12||12}:${e} ${x?"PM":"AM"}`}function q(i){if(!i)return"";const l=new Date(i),e={day:"2-digit",month:"long",year:"numeric"};return l.toLocaleDateString("en-IN",e)}const C=()=>{s.subjects.push({...n.value}),V()},D=i=>{s.subjects.splice(i,1)},U=()=>{s.post(route("exams.store",S.job.id))};return(i,l)=>(_(),g(O,{padding:""},{default:a(()=>[t(L,{onSubmit:U,onReset:i.reset,class:"row q-col-gutter-sm zcard q-pa-md"},{default:a(()=>[o("div",H,[t(d,{modelValue:u(s).exam_name,"onUpdate:modelValue":l[0]||(l[0]=e=>u(s).exam_name=e),outlined:"",dense:"",class:"my-input",label:"Name of examination",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),o("div",G,[t(d,{modelValue:u(s).description,"onUpdate:modelValue":l[1]||(l[1]=e=>u(s).description=e),type:"textarea",dense:"",outlined:"",class:"my-input",label:"Description"},null,8,["modelValue"])]),o("div",J,[t(d,{modelValue:u(s).pass_mark,"onUpdate:modelValue":l[2]||(l[2]=e=>u(s).pass_mark=e),outlined:"",dense:"",class:"my-input",label:"Pass mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",K,[t(d,{modelValue:u(s).full_mark,"onUpdate:modelValue":l[3]||(l[3]=e=>u(s).full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"])]),o("div",W,[t(d,{modelValue:u(s).start_at,"onUpdate:modelValue":l[4]||(l[4]=e=>u(s).start_at=e),type:"datetime-local",outlined:"",dense:"","stack-label":"",class:"my-input",label:"Start",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",X,[t(d,{modelValue:u(s).end_at,"onUpdate:modelValue":l[5]||(l[5]=e=>u(s).end_at=e),type:"datetime-local","stack-label":"",outlined:"",dense:"",class:"my-input",label:"End",rules:[e=>!!e||"Invalid Date time"]},null,8,["modelValue","rules"])]),o("div",Y,[t(I,{modelValue:u(s).active,"onUpdate:modelValue":l[6]||(l[6]=e=>u(s).active=e),label:"Active"},null,8,["modelValue"])]),o("div",Z,[t(P)]),o("div",h,[l[14]||(l[14]=o("div",{class:"text-grey-7"},"Click Add button to add paper",-1)),t(m,{onClick:l[7]||(l[7]=e=>v.value=!0),rounded:"",color:"primary",outline:"",label:"Add"})]),o("div",ee,[t(R,{flat:""},{default:a(()=>[t(Q,null,{default:a(()=>[t(p,{align:"left",style:{width:"20%"}},{default:a(()=>l[15]||(l[15]=[r("Subject")])),_:1}),t(p,{align:"center",style:{width:"20%"}},{default:a(()=>l[16]||(l[16]=[r("Date")])),_:1}),t(p,{align:"center",style:{width:"15%"}},{default:a(()=>l[17]||(l[17]=[r("Pass Mark")])),_:1}),t(p,{align:"center",style:{width:"15%"}},{default:a(()=>l[18]||(l[18]=[r("Start")])),_:1}),t(p,{align:"center",style:{width:"20%"}},{default:a(()=>l[19]||(l[19]=[r("End")])),_:1}),t(p,{align:"center",style:{width:"10%"}},{default:a(()=>l[20]||(l[20]=[r("Action")])),_:1})]),_:1}),(_(!0),T(F,null,E(u(s).subjects,(e,f)=>(_(),g(Q,{key:f},{default:a(()=>[t(c,{align:"left"},{default:a(()=>[r(b(e==null?void 0:e.subject_name),1)]),_:2},1024),t(c,{align:"center"},{default:a(()=>[r(b(q(e==null?void 0:e.exam_date)),1)]),_:2},1024),t(c,{align:"center"},{default:a(()=>[r(b(e==null?void 0:e.full_mark),1)]),_:2},1024),t(c,{align:"center"},{default:a(()=>[r(b(y(e==null?void 0:e.start_time)),1)]),_:2},1024),t(c,{align:"center"},{default:a(()=>[r(b(y(e==null?void 0:e.end_time)),1)]),_:2},1024),t(c,{align:"center"},{default:a(()=>[t(m,{flat:"",icon:"cancel",onClick:x=>D(f)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),o("div",le,[t(m,{type:"reset",label:"Cancel",flat:""}),t(m,{class:"q-px-lg",type:"submit",label:"Save",rounded:"",color:"primary"})]),t(B,{modelValue:v.value,"onUpdate:modelValue":l[13]||(l[13]=e=>v.value=e)},{default:a(()=>[t(M,{class:"q-pa-md"},{default:a(()=>[o("div",te,[l[21]||(l[21]=o("div",{class:"ztext-lg"},"New Subject",-1)),j(t($,{name:"cancel",class:"cursor-pointer"},null,512),[[w]])]),l[22]||(l[22]=o("br",null,null,-1)),t(d,{modelValue:n.value.subject_name,"onUpdate:modelValue":l[8]||(l[8]=e=>n.value.subject_name=e),outlined:"",class:"my-input",rules:[e=>!!e||"Name is required"],label:"Paper Name"},null,8,["modelValue","rules"]),t(d,{modelValue:n.value.exam_date,"onUpdate:modelValue":l[9]||(l[9]=e=>n.value.exam_date=e),outlined:"",class:"my-input",rules:[e=>!!e||"Exam Date is required"],type:"date",label:"Date of Exam"},null,8,["modelValue","rules"]),t(d,{modelValue:n.value.full_mark,"onUpdate:modelValue":l[10]||(l[10]=e=>n.value.full_mark=e),outlined:"",dense:"",class:"my-input",label:"Full mark",rules:[e=>!isNaN(e)||"Invalid format"]},null,8,["modelValue","rules"]),t(d,{modelValue:n.value.start_time,"onUpdate:modelValue":l[11]||(l[11]=e=>n.value.start_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"Start time is required"],label:"Start At"},null,8,["modelValue","rules"]),t(d,{modelValue:n.value.end_time,"onUpdate:modelValue":l[12]||(l[12]=e=>n.value.end_time=e),outlined:"",type:"time",class:"my-input",rules:[e=>!!e||"End tim is required"],label:"End At"},null,8,["modelValue","rules"]),o("div",ae,[t(m,{type:"submit",style:{"min-width":"90px"},rounded:"",color:"primary",onClick:C,label:"Add"}),j(t(m,{rounded:"",color:"negative",outline:"",label:"Reset",onClick:V},null,512),[[w]])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onReset"])]),_:1}))}});export{fe as default};
