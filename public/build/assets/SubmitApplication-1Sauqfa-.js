import{T as ut,r as tt,o as s,c as d,a as m,u as p,w as ct,F as D,Z as mt,b as e,t as o,n as C,e as g,g as i,p as et,d as pt,y as nt,C as gt,s as ft}from"./app-CT4IdWBm.js";import{Q as bt}from"./QImg-mVYx47nf.js";import{Q as yt}from"./QPage-BmAsVIw7.js";import{A as xt}from"./ApplicantLayout-Bu-x85oX.js";import{u as wt}from"./use-quasar-Cm4lZ0ll.js";import"./QLayout-C_sxsBBR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const kt={class:"p-4 bg-background rounded-lg shadow-md"},vt={class:"text-base"},ht={class:"text-base"},Dt={class:"text-base"},Ct={class:"text-base"},Pt={class:"mt-6 flex justify-between w-full"},Nt={key:0,class:"p-4"},St={key:0,class:"flex flex-col md:flex-row p-4 bg-background rounded-lg shadow-md"},jt={class:"w-full md:w-1/2 p-4 border-r border-border"},At={class:"flex items-center mb-4"},Ot={class:"text-md font-bold"},Tt={class:"w-full md:w-1/2 p-4"},zt={key:1,class:"p-4 bg-background rounded-lg shadow-md"},Et={class:"grid grid-cols-2 gap-4"},It={class:"col-xs-8 flex items-center text-grey-6"},Vt={class:"block text-sm font-medium"},Lt={class:"col-xs-4"},Bt=["id","onChange"],Ut={key:2,class:"p-4 bg-background rounded-lg shadow-md"},$t={class:"grid grid-cols-2 gap-4"},Ft={class:"col-xs-8 flex items-center text-grey-6"},Qt={class:"block text-sm font-medium"},Mt={class:"col-xs-4"},qt=["id","onChange"],Ht={class:"p-4 bg-background rounded-lg shadow-md col-xs-12 col-sm-12"},Rt={class:"flex justify-between items-center"},Jt={class:"flex q-gutter-md"},Yt={key:0,class:"input-error"},Zt={class:"mx-auto bg-white dark:bg-card shadow-lg rounded-lg p-6 flex flex-col items-center mt-2"},Gt={class:"mt-6 flex justify-between w-full"},Kt={class:"text-red-500"},Wt={class:"flex items-center justify-end flex-col"},Xt=["src"],_t={class:"flex items-center gap-8 justify-center mt-4"},te=["disabled"],ee=["disabled"],ne=["disabled"],ue=Object.assign({layout:xt},{__name:"SubmitApplication",props:["jobDetail","mandatoryDocuments","applicant","application","optionalDocuments"],setup(n){var S;const c=wt(),f=n,r=ut({document_id:null,file:null,application_id:f.application.id,mizo_proficiency:(S=f.application)!=null&&S.mizo_proficiency?parseInt(f.application.mizo_proficiency):null}),w=tt(!1);function P(l,t){r.document_id=t,r.file=l.target.files[0]}const ot=()=>{c.dialog({title:"Confirmation",message:"Do you want to update the Application?",ok:"Proceed",cancel:"Back"}).onOk(()=>{r.post(route("application.update",{jobDetail:f.jobDetail.id}),{onSuccess:()=>{c.notify({type:"info",color:"primary",message:"Application Updated Successfully."})}})})},k=tt(!1),lt=()=>{k.value=!k.value},it=l=>{const t=new Date(l),u={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("en-IN",u)},at=l=>{c.dialog({title:"Confirmation",message:"Do you want to delete the Application?",ok:"Proceed",cancel:"Back"}).onOk(()=>{gt.delete(route("application.delete_draft",l))})},st=l=>{if(!l)return"";const t={day:"2-digit",month:"2-digit",year:"numeric"};return new Intl.DateTimeFormat("en-IN",t).format(new Date(l))},N=l=>{let t=document.createElement("a");t.target="_blank",t.href=`/storage/${l==null?void 0:l.document_path}`,t.click()},dt=()=>{let l=document.createElement("a");l.target="_blank",l.href=`${window.location.origin}/DepartmentNOC.pdf`,l.click()},rt=()=>{c.dialog({title:"Confirmation",message:"Application is draft by default and you can pay later. Do you want to proceed with payment",ok:"Proceed",cancel:"Back"}).onOk(()=>{c.loading.show(),ft.post("/paytm/initiate",{job_ids:f.jobDetail.id,application_id:f.application.id}).then(l=>{const{token:t,order_id:u,amount:v}=l.data;var h={root:"",flow:"DEFAULT",data:{orderId:u,token:t,tokenType:"TXN_TOKEN",amount:v},handler:{notifyMerchant:function(b,y){console.log("notifyMerchant handler function called"),console.log("eventName => ",b),console.log("data => ",y)}}};window.Paytm&&window.Paytm.CheckoutJS?window.Paytm.CheckoutJS.init(h).then(function(){window.Paytm.CheckoutJS.invoke()}).catch(function(y){console.log("error => ",y)}):(console.log("Error Paytm"),c.notify({type:"warning",message:"Unable to load Checkout Page: Please Reload to try again"}))}).catch(l=>{var t,u;console.log(l),c.notify({type:"negative",message:((u=(t=l==null?void 0:l.response)==null?void 0:t.data)==null?void 0:u.message)||l.toString()})}).finally(()=>{c.loading.hide()})})};return(l,t)=>(s(),d(D,null,[m(p(mt),{title:"Draft Application"}),m(yt,{padding:""},{default:ct(()=>{var u,v,h,b,y,j,A,O,T,z,E,I,V,L,B,U,$,F,Q,M,q,H,R,J,Y,Z,G,K,W,X,_;return[e("div",kt,[t[3]||(t[3]=e("h2",{class:"text-lg font-bold"},"Name of Post",-1)),e("p",vt,o(n.jobDetail.post_name),1),t[4]||(t[4]=e("h2",{class:"text-lg font-bold mt-4"},"Number of Post",-1)),e("p",ht,o(n.jobDetail.no_of_post),1),t[5]||(t[5]=e("h2",{class:"text-lg font-bold mt-4"},"Application Last Date",-1)),e("p",Dt,o(st(n.jobDetail.application_deadline)),1),t[6]||(t[6]=e("h2",{class:"text-lg font-bold mt-4"},"Application Fee ",-1)),e("p",Ct,"General -"+o(n.jobDetail.application_fee_general)+". SC\\ST\\Others- "+o(n.jobDetail.application_fee_other),1),t[7]||(t[7]=e("h2",{class:"text-lg font-bold mt-4"},"Certification by Head of Department / Cadre Authority (PDF)",-1)),m(C,{outline:"",color:"red",icon:"mail",label:"Open Template",onClick:dt})]),e("div",Pt,[n.applicant?(s(),d("div",Nt,[e("button",{onClick:lt,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},o(k.value?"Hide Profile":"Show Profile"),1)])):g("",!0)]),k.value?(s(),d("div",St,[e("div",jt,[e("div",At,[m(bt,{src:`/storage/${n.applicant.passport_photo}`,alt:"Passport Size Photo",class:"mr-4",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,["src"]),e("div",null,[e("h3",Ot,o((u=n.applicant)==null?void 0:u.user.name),1),t[8]||(t[8]=e("p",{class:"text-muted-foreground"},"Name (As HSLC Cert. / Service Book)",-1))])]),e("p",null,[t[9]||(t[9]=e("strong",null,"Sex:",-1)),i(" "+o((v=n.applicant)==null?void 0:v.sex),1)]),e("p",null,[t[10]||(t[10]=e("strong",null,"Mobile No:",-1)),i(" "+o((h=n.applicant)==null?void 0:h.user.phone),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"Parent's Name:",-1)),i(" "+o((b=n.applicant)==null?void 0:b.parents_name),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Date of Birth:",-1)),i(" "+o((y=n.applicant)==null?void 0:y.date_of_birth),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Community:",-1)),i(" "+o((j=n.applicant)==null?void 0:j.community),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Religion:",-1)),i(" "+o((A=n.applicant)==null?void 0:A.religion),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"Nationality:",-1)),i(" "+o((O=n.applicant)==null?void 0:O.nationality),1)]),e("p",null,[t[16]||(t[16]=e("strong",null,"Qualification:",-1)),i(o((T=n.applicant)==null?void 0:T.qualification)+", "+o((z=n.applicant)==null?void 0:z.graduateDegree),1)]),e("p",null,[t[17]||(t[17]=e("strong",null,"Working knowledge of Mizo Language:",-1)),i(" "+o((E=n.applicant)!=null&&E.mizo_proficiency?"YES":"NO"),1)]),e("p",null,[t[18]||(t[18]=e("strong",null,"Person with Disability:",-1)),i(" "+o((I=n.applicant)!=null&&I.disability?"YES":"NO"),1)]),e("p",null,[t[19]||(t[19]=e("strong",null,"Person with Disability Detail:",-1)),i(o((V=n.applicant)==null?void 0:V.disability_type),1)])]),e("div",Tt,[t[36]||(t[36]=e("h2",{class:"text-lg font-semibold"},"Permanent Address",-1)),e("p",null,[t[20]||(t[20]=e("strong",null,"House No:",-1)),i(o((L=n.applicant)==null?void 0:L.user.address.permanent_house_no),1)]),e("p",null,[t[21]||(t[21]=e("strong",null,"Street:",-1)),i(" "+o((B=n.applicant)==null?void 0:B.user.address.permanent_street),1)]),e("p",null,[t[22]||(t[22]=e("strong",null,"Locality (Veng):",-1)),i(" "+o((U=n.applicant)==null?void 0:U.user.address.permanent_locality),1)]),e("p",null,[t[23]||(t[23]=e("strong",null,"Landmark:",-1)),i(" "+o(($=n.applicant)==null?void 0:$.user.address.permanent_landmark),1)]),e("p",null,[t[24]||(t[24]=e("strong",null,"Town / City:",-1)),i(" "+o((F=n.applicant)==null?void 0:F.user.address.permanent_city),1)]),e("p",null,[t[25]||(t[25]=e("strong",null,"District:",-1)),i(" "+o((Q=n.applicant)==null?void 0:Q.user.address.permanent_district),1)]),e("p",null,[t[26]||(t[26]=e("strong",null,"State / UT:",-1)),i(" "+o((M=n.applicant)==null?void 0:M.user.address.permanent_state),1)]),e("p",null,[t[27]||(t[27]=e("strong",null,"PIN:",-1)),i(" "+o((q=n.applicant)==null?void 0:q.user.address.permanent_pin_code),1)]),t[37]||(t[37]=e("h2",{class:"text-lg font-semibold mt-4"},"Communication Address",-1)),e("p",null,[t[28]||(t[28]=e("strong",null,"House No:",-1)),i(" "+o((H=n.applicant)==null?void 0:H.user.address.communication_house_no),1)]),e("p",null,[t[29]||(t[29]=e("strong",null,"Street:",-1)),i(" "+o((R=n.applicant)==null?void 0:R.user.address.communication_street),1)]),e("p",null,[t[30]||(t[30]=e("strong",null,"Locality (Veng):",-1)),i(" "+o((J=n.applicant)==null?void 0:J.user.address.communication_locality),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"Landmark:",-1)),i(" "+o((Y=n.applicant)==null?void 0:Y.user.address.communication_landmark),1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"Town / City:",-1)),i(" "+o((Z=n.applicant)==null?void 0:Z.user.address.communication_city),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"District:",-1)),i(" "+o((G=n.applicant)==null?void 0:G.user.address.communication_district),1)]),e("p",null,[t[34]||(t[34]=e("strong",null,"State / UT:",-1)),i(o((K=n.applicant)==null?void 0:K.user.address.communication_state),1)]),e("p",null,[t[35]||(t[35]=e("strong",null,"PIN:",-1)),i(" "+o((W=n.applicant)==null?void 0:W.user.address.communication_pin_code),1)])])])):g("",!0),n.mandatoryDocuments.length!==0?(s(),d("div",zt,[t[38]||(t[38]=e("h2",{class:"text-lg font-bold mb-3"},"Mandatory Documents",-1)),e("div",Et,[(s(!0),d(D,null,et(n.mandatoryDocuments,a=>(s(),d("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[e("div",It,[e("label",Vt,o(a.document_name),1),m(C,{label:(l.$q.screen.lt.sm,"OPEN"),color:"primary",flat:"",onClick:x=>N(a.document_attachments)},null,8,["label","onClick"])]),e("div",Lt,[e("input",{type:"file",id:"file-"+a.id,onChange:x=>P(x,a.id),class:"text-sm mt-2"},null,40,Bt)])]))),128))])])):g("",!0),n.optionalDocuments.length!==0?(s(),d("div",Ut,[t[39]||(t[39]=e("h2",{class:"text-lg font-bold mb-3"},"Optional Documents",-1)),e("div",$t,[(s(!0),d(D,null,et(n.optionalDocuments,a=>(s(),d("div",{key:a.id,class:"row col-xs-12 col-sm-6 print-hide"},[e("div",Ft,[e("label",Qt,o(a.document_name),1),a.document_attachments&&a.document_attachments.document_path?(s(),pt(C,{key:0,label:(l.$q.screen.lt.sm,"OPEN"),color:"primary",flat:"",onClick:x=>N(a.document_attachments)},null,8,["label","onClick"])):g("",!0)]),e("div",Mt,[e("input",{type:"file",id:"file-"+a.id,onChange:x=>P(x,a.id),class:"text-sm mt-2"},null,40,qt)])]))),128))])])):g("",!0),e("div",Ht,[e("div",Rt,[e("div",null," Did you study MIZO language in "+o(n.jobDetail.mizo_proficiency),1),e("div",Jt,[m(nt,{modelValue:p(r).mizo_proficiency,"onUpdate:modelValue":t[0]||(t[0]=a=>p(r).mizo_proficiency=a),dense:"",val:1,label:"Yes"},null,8,["modelValue"]),m(nt,{modelValue:p(r).mizo_proficiency,"onUpdate:modelValue":t[1]||(t[1]=a=>p(r).mizo_proficiency=a),dense:"",val:0,label:"No"},null,8,["modelValue"]),p(r).errors.mizo_proficiency?(s(),d("div",Yt,o(p(r).errors.mizo_proficiency),1)):g("",!0)])])]),e("div",Zt,[t[42]||(t[42]=e("h2",{class:"text-red-500 text-2xl font-bold text-center tracking-widest"},"D E C L A R A T I O N",-1)),t[43]||(t[43]=e("p",{class:"text-red-500 mt-4"}," I hereby declare that the information given above and in the enclosed documents is true to the best of my knowledge and belief and nothing has been concealed therein. I understand that if the information given by me is proved false / not true, I will have to face the punishment as per the law. Also, all the benefits availed by me shall be summarily withdrawn. ",-1)),e("div",Gt,[e("div",null,[t[40]||(t[40]=e("span",{class:"text-red-500 font-semibold"},"Date :",-1)),e("span",Kt,o(it(n.application.created_at)),1)]),e("div",Wt,[(X=n.applicant)!=null&&X.signature_photo?(s(),d("img",{key:0,alt:"Signature of the Candidate",src:`/storage/${(_=n.applicant)==null?void 0:_.signature_photo}`,class:"border border-zinc-300 rounded w-40 h-40 object-contain"},null,8,Xt)):g("",!0),t[41]||(t[41]=e("p",{class:"text-red-500 text-center mt-2"},"Signature of the Candidate",-1))])])]),e("div",_t,[e("button",{onClick:t[2]||(t[2]=a=>at(n.jobDetail.id)),class:"bg-red-600 text-white px-6 py-3 rounded-md hover:bg-red-700 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:w.value}," Delete Draft ",8,te),e("button",{onClick:ot,class:"bg-yellow-500 text-white px-6 py-3 rounded-md hover:bg-yellow-600 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-yellow-400 disabled:opacity-50",disabled:w.value}," Update ",8,ee),e("button",{class:"bg-accent text-accent-foreground text-white px-6 py-3 rounded-md hover:bg-accent/80 transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",disabled:w.value,onClick:rt},o(w.value?"Submitting...":"Make Payment"),9,ne)])]}),_:1})],64))}});export{ue as default};
