import{Q as V}from"./QSpace-obZ1CS7b.js";import{S as A,r as B,o as u,d as m,w as l,b as s,a as e,Q as E,X as I,z as S,n as c,m as k,c as L,p as N,q as F,g,t as w,Y as h,F as U,V as y,s as z}from"./app-ahP4YWLO.js";import{Q as T}from"./QTabs-ChaaA7jP.js";import{Q as _}from"./QChip-DwmSXf3C.js";import{c as v,a as p,b as Q,Q as D}from"./QLayout-3ARnjGrK.js";import{Q as K}from"./QBtnDropdown-Cu-0-oVK.js";import{Q as P}from"./QPage-DSGv5ZHW.js";import{C}from"./ClosePopup-IoE43uOS.js";import{A as R}from"./Admin-DB3rvOWu.js";import{u as G}from"./use-quasar-wqajlVnz.js";import"./rtl-DFPa-2ov.js";import"./QMenu-BbZcIake.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"row q-gutter-md"},O={class:"flex zcard justify-between flex-inline col-12 q-pa-md"},X={class:"flex q-gutter-sm"},Y={class:"col-12 zcard q-pa-md"},Z={class:"flex items-center"},H={class:"col-12"},M={class:"flex q-gutter-sm"},pe=Object.assign({layout:R},{__name:"Approved",props:["jobDetails","search"],setup(i){const f=G(),b=i,d=A({search:b==null?void 0:b.search,tab:route().current()});B("");const x=o=>{y.get(route("admin.applications.index_approved"),{search:d.search})},$=o=>{y.get(route(o))};function q(o){const a={timeZone:"Asia/Kolkata",weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-IN",a).format(new Date(o)).replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$1/$2/$3")}const j=o=>{f.loading.show();const a=route("export.job.details",o);z.get(a,{responseType:"blob"}).then(t=>{const r=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=r,n.setAttribute("download",Date.now()+".xlsx"),n.click()}).catch(t=>{var r,n;f.notify({type:"negative",message:((n=(r=t.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to download file"})}).finally(()=>{f.loading.hide()})};return(o,a)=>(u(),m(P,{padding:""},{default:l(()=>[a[9]||(a[9]=s("p",{class:"page-title"},"Job Qualified Application",-1)),s("div",J,[s("div",O,[e(T,{stretch:"",shrink:"",modelValue:d.tab,"onUpdate:modelValue":[a[1]||(a[1]=t=>d.tab=t),$],align:"start"},{default:l(()=>[e(V),e(E,{modelValue:d.search,"onUpdate:modelValue":a[0]||(a[0]=t=>d.search=t),autofocus:"",outlined:"",dense:"",onKeyup:I(x,["enter"]),"bg-color":"white",placeholder:"Search"},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),s("div",X,[e(c,{onClick:o.generateExcel,color:"accent",label:"Generate Excel",class:""},null,8,["onClick"]),e(k,{vertical:""}),e(c,{outline:"",onClick:a[2]||(a[2]=t=>o.$inertia.get(o.route("admin.applications.admit_card"))),label:"Download Admit Card","no-caps":""}),e(k,{vertical:""}),e(c,{color:"primary",onClick:a[3]||(a[3]=t=>o.$inertia.get(o.route("exams.marks_assign"))),label:"Exam Result Entry","no-caps":""})])]),s("div",Y,[e(D,null,{default:l(()=>[(u(!0),L(U,null,N(i.jobDetails.data,(t,r)=>(u(),m(v,{class:"zcard q-mt-sm",key:r},{default:l(()=>[e(p,{avatar:""},{default:l(()=>[e(F,{square:""},{default:l(()=>[e(_,{square:"",label:r+1},null,8,["label"])]),_:2},1024)]),_:2},1024),e(p,null,{default:l(()=>[e(Q,null,{default:l(()=>[g(w(t==null?void 0:t.post_name)+" Posted on: "+w(q(t==null?void 0:t.created_at)),1)]),_:2},1024)]),_:2},1024),e(p,{side:""},{default:l(()=>[s("div",Z,[a[8]||(a[8]=s("div",{class:"text-caption"},"No of Applications",-1)),e(_,{"text-color":"white",square:"",color:"primary",label:t==null?void 0:t.applications_count},null,8,["label"]),e(K,{rounded:"",flat:"","dropdown-icon":"more_vert",class:"q-pa-sm"},{default:l(()=>[e(D,{class:"q-pa-sm"},{default:l(()=>[h((u(),m(v,{clickable:"",onClick:n=>o.$inertia.get(o.route("admin.applications.show_approved",t.id))},{default:l(()=>[e(p,null,{default:l(()=>[e(Q,null,{default:l(()=>a[6]||(a[6]=[g("Detail of applications")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[C]]),h((u(),m(v,{clickable:"",onClick:n=>j(t.id)},{default:l(()=>[e(p,null,{default:l(()=>[e(Q,null,{default:l(()=>a[7]||(a[7]=[g("Generate Excel")])),_:1})]),_:1})]),_:2},1032,["onClick"])),[[C]])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s("div",H,[s("div",M,[e(c,{disable:!i.jobDetails.prev_page_url,onClick:a[4]||(a[4]=t=>o.$inertia.get(i.jobDetails.prev_page_url)),flat:"",round:"",icon:"chevron_left"},null,8,["disable"]),e(c,{disable:!i.jobDetails.next_page_url,onClick:a[5]||(a[5]=t=>o.$inertia.get(i.jobDetails.next_page_url)),flat:"",round:"",icon:"chevron_right"},null,8,["disable"])])])])])]),_:1}))}});export{pe as default};
