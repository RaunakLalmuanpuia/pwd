import{T as Q,r as m,c as C,o as y,i as j,e as i,b as e,d as a,n as N,Q as V,h as b,j as I,ac as P,ad as f,ae as q,t as n,a as _,l as B,p as F,af as L,aa as T,F as U}from"./app-CKpvvMs_.js";import{Q as k}from"./QSelect-CpsQ1Jxp.js";import{Q as O}from"./QBtnDropdown-Cavv6KkJ.js";import{Q as z}from"./QPage-D2N4OAv2.js";import{A as E}from"./Admin-tUpMJlFe.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QMenu-BEyqcSZW.js";import"./QLayout-CsQH2OCr.js";const R={class:"flex justify-between items-center zcard q-pa-md"},$={class:"flex items-center q-gutter-md"},J={class:"row q-mt-sm"},Y={class:"page-title"},G={class:"col-xs-12"},H={class:"table-auto border-collapse border border-gray-300 w-full mt-6 text-sm"},K={class:"bg-gray-100"},W={class:"px-4 py-2 text-left text-gray-600"},X=["checked"],Z={class:"px-4 py-2"},tt=["value"],et={class:"px-4 py-2"},lt={class:"px-4 py-2"},st={class:"px-4 py-2"},at={class:"px-4 py-2"},ot={class:"px-4 py-2"},it={class:"px-4 py-2"},nt=["onClick"],dt=Object.assign({layout:E},{__name:"SubmittedApplication",props:["jobDetails"],setup(u){const A=u,r=Q({application_ids:[],status:""});m(!1);const o=m([]),S=C(()=>p.value.length>0&&p.value.every(s=>o.value.includes(s.id))),w=s=>{s.target.checked?o.value=p.value.map(t=>t.id):o.value=[]},c=m(""),p=C(()=>A.jobDetails.applications.filter(s=>{var d;return(((d=s.applicant.user)==null?void 0:d.name.toLowerCase())||"").includes(c.value.toLowerCase())})),D=()=>{if(o.value.length===0){alert("Please select at least one applicant.");return}r.application_ids=o.value,r.status="approved",r.put(route("admin.applications.bulkChangeStatus"),{onSuccess:()=>{r.reset(),o.value=[]}})};return(s,t)=>(y(),j(z,{padding:""},{default:i(()=>{var d;return[t[12]||(t[12]=e("p",{class:"page-title"},"SUBMITTED APPLICATIONS",-1)),e("div",R,[a(V,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),dense:"",outlined:"",placeholder:"Search",style:{width:"240px"},onChange:s.handleSearch},{append:i(()=>[a(N,{name:"search"})]),_:1},8,["modelValue","onChange"]),e("div",$,[a(b,{onClick:D,color:"primary",disabled:o.value.length===0,label:"Mark as Qualified"},null,8,["disabled"]),a(I,{vertical:""}),a(O,{class:"q-ma-xs q-pa-xs",color:"primary",flat:"","dropdown-icon":"sort"},{default:i(()=>[a(P,{class:"q-pa-sm",style:{"min-width":"280px"}},{default:i(()=>[a(f,null,{default:i(()=>t[5]||(t[5]=[e("p",{class:"q-ma-none ztext-lg"},"Filter",-1)])),_:1}),a(f,null,{default:i(()=>[a(k,{modelValue:s.filterData.job,"onUpdate:modelValue":t[1]||(t[1]=l=>s.filterData.job=l),options:s.jobs,class:"my-input",dense:"",label:"Job",outlined:""},null,8,["modelValue","options"])]),_:1}),a(f,null,{default:i(()=>[a(k,{modelValue:s.filterData.district,"onUpdate:modelValue":t[2]||(t[2]=l=>s.filterData.district=l),options:s.districts,class:"my-input",dense:"",label:"District",outlined:""},null,8,["modelValue","options"])]),_:1}),a(q,null,{default:i(()=>[a(b,{flat:"",label:"Reset",onClick:s.resetFilter},null,8,["onClick"]),a(b,{color:"primary",label:"Filter",rounded:"",style:{"min-width":"100px"},onClick:s.doFilter},null,8,["onClick"])]),_:1})]),_:1})]),_:1})])]),e("div",J,[e("p",Y,n((d=u.jobDetails)==null?void 0:d.post_name)+" : APPLICATIONS",1),e("div",G,[e("table",H,[e("thead",K,[e("tr",null,[e("th",W,[e("input",{type:"checkbox",onChange:t[3]||(t[3]=l=>w(l)),checked:S.value},null,40,X)]),t[6]||(t[6]=e("th",{class:"px-4 py-2 text-left text-gray-600"},"Applicant Name",-1)),t[7]||(t[7]=e("th",{class:"px-4 py-2 text-left text-gray-600"},"Roll No",-1)),t[8]||(t[8]=e("th",{class:"px-4 py-2 text-left text-gray-600"},"Community",-1)),t[9]||(t[9]=e("th",{class:"px-4 py-2 text-left text-gray-600"},"Disability",-1)),t[10]||(t[10]=e("th",{class:"px-4 py-2 text-left text-gray-600"},"Status",-1)),t[11]||(t[11]=e("th",{class:"px-4 py-2 text-left text-gray-600"},"Actions",-1))])]),e("tbody",null,[(y(!0),_(U,null,B(p.value,l=>{var x,g,v;return y(),_("tr",{key:l.id,class:"hover:bg-gray-50 transition duration-150"},[e("td",Z,[F(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=h=>o.value=h),value:l.id},null,8,tt),[[L,o.value]])]),e("td",et,n(((x=l.applicant.user)==null?void 0:x.name)||"N/A"),1),e("td",lt,n(l.application_id||"N/A"),1),e("td",st,n(((g=l.applicant)==null?void 0:g.community)||"N/A"),1),e("td",at,n((v=l.applicant)!=null&&v.disability?"Yes":"No"),1),e("td",ot,[e("span",{class:T(["px-2 py-1 rounded-full text-xs font-semibold",l.status==="approved"?"bg-green-100 text-green-800":l.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},n(l.status||"Pending"),3)]),e("td",it,[e("button",{onClick:h=>s.$inertia.get(s.route("admin.application.show_applicant_detail",{jobDetails:u.jobDetails.id,application:l.id})),class:"bg-blue-500 hover:bg-blue-700 text-white py-1 px-4 rounded mr-2 transition duration-150"}," OPEN ",8,nt)])])}),128))])])])])]}),_:1}))}}),xt=M(dt,[["__scopeId","data-v-89da39db"]]);export{xt as default};
